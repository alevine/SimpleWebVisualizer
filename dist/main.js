!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){!function(e,t,n,r){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;var o=function(e,t,n){return{endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}},a=function(e,t,n){return{endTime:t,insertTime:n,type:"linearRampToValue",value:e}},i=function(e,t){return{startTime:t,type:"setValue",value:e}},s=function(e,t,n){return{duration:n,startTime:t,type:"setValueCurve",values:e}},u=function(e,t,n){var r=n.startTime,o=n.target,a=n.timeConstant;return o+(t-o)*Math.exp((r-e)/a)},c=function(e){return"exponentialRampToValue"===e.type},l=function(e){return"linearRampToValue"===e.type},h=function(e){return c(e)||l(e)},d=function(e){return"setValue"===e.type},p=function(e){return"setValueCurve"===e.type},f=function e(t,n,r,o){var a=t[n];return void 0===a?o:h(a)||d(a)?a.value:p(a)?a.values[a.values.length-1]:u(r,e(t,n-1,a.startTime,o),a)},m=function(e,t,n,r,o){return void 0===n?[r.insertTime,o]:h(n)?[n.endTime,n.value]:d(n)?[n.startTime,n.value]:p(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,f(e,t-1,n.startTime,o)]},v=function(e){return"cancelAndHold"===e.type},g=function(e){return"cancelScheduledValues"===e.type},C=function(e){return v(e)||g(e)?e.cancelTime:c(e)||l(e)?e.endTime:e.startTime},w=function(e,t,n,r){var o=r.endTime,a=r.value;return n===a?a:0<n&&0<a||n<0&&a<0?n*Math.pow(a/n,(e-t)/(o-t)):0},y=function(e,t,n,r){return n+(e-t)/(r.endTime-t)*(r.value-n)},_=function(e,t){var n=t.duration,r=t.startTime,o=t.values;return function(e,t){var n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]}(o,(e-r)/n*(o.length-1))},b=function(e){return"setTarget"===e.type},M=function(){function e(t){n(this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return r(e,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(e){var t=C(e);if(v(e)||g(e)){var n=this._automationEvents.findIndex((function(e){return C(e)>=t})),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),v(e)){var u=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&h(r)){if(b(u))throw new Error("The internal list is malformed.");var d=p(u)?u.startTime+u.duration:C(u),f=p(u)?u.values[u.values.length-1]:u.value,m=c(r)?w(t,d,f,r):y(t,d,f,r),_=c(r)?o(m,t,this._currenTime):a(m,t,this._currenTime);this._automationEvents.push(_)}void 0!==u&&b(u)&&this._automationEvents.push(i(this.getValue(t),t)),void 0!==u&&p(u)&&u.startTime+u.duration>t&&(this._automationEvents[this._automationEvents.length-1]=s(new Float32Array([6,7]),u.startTime,t-u.startTime))}}else{var M=this._automationEvents.findIndex((function(e){return C(e)>t})),O=-1===M?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[M-1];if(void 0!==O&&p(O)&&C(O)+O.duration>t)return!1;var x=c(e)?o(e.value,e.endTime,this._currenTime):l(e)?a(e.value,t,this._currenTime):e;if(-1===M)this._automationEvents.push(x);else{if(p(e)&&t+e.duration>C(this._automationEvents[M]))return!1;this._automationEvents.splice(M,0,x)}}return!0}},{key:"flush",value:function(e){var t=this._automationEvents.findIndex((function(t){return C(t)>e}));if(t>1){var n=this._automationEvents.slice(t-1),r=n[0];b(r)&&n.unshift(i(f(this._automationEvents,t-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(e){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents[this._automationEvents.length-1],r=this._automationEvents.findIndex((function(t){return C(t)>e})),o=this._automationEvents[r],a=C(n)<=e?n:this._automationEvents[r-1];if(void 0!==a&&b(a)&&(void 0===o||!h(o)||o.insertTime>e))return u(e,f(this._automationEvents,r-2,a.startTime,this._defaultValue),a);if(void 0!==a&&d(a)&&(void 0===o||!h(o)))return a.value;if(void 0!==a&&p(a)&&(void 0===o||!h(o)||a.startTime+a.duration>e))return e<a.startTime+a.duration?_(e,a):a.values[a.values.length-1];if(void 0!==a&&h(a)&&(void 0===o||!h(o)))return a.value;if(void 0!==o&&c(o)){var i=m(this._automationEvents,r-1,a,o,this._defaultValue),s=t(i,2),v=s[0],g=s[1];return w(e,v,g,o)}if(void 0!==o&&l(o)){var M=m(this._automationEvents,r-1,a,o,this._defaultValue),O=t(M,2),x=O[0],E=O[1];return y(e,x,E,o)}return this._defaultValue}}]),e}();e.AutomationEventList=M,e.createCancelAndHoldAutomationEvent=function(e){return{cancelTime:e,type:"cancelAndHold"}},e.createCancelScheduledValuesAutomationEvent=function(e){return{cancelTime:e,type:"cancelScheduledValues"}},e.createExponentialRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"exponentialRampToValue",value:e}},e.createLinearRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"linearRampToValue",value:e}},e.createSetTargetAutomationEvent=function(e,t,n){return{startTime:t,target:e,timeConstant:n,type:"setTarget"}},e.createSetValueAutomationEvent=i,e.createSetValueCurveAutomationEvent=s,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2),n(6),n(7))},function(e,t,n){!function(e){"use strict";var t,n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,r=new WeakMap,o=(t=r,function(e,n){return t.set(e,n),n}),a=function(e,t){return function(r){var o=t.get(r),a=void 0===o?r.size:o>2147483646?0:o+1;if(!r.has(a))return e(r,a);if(r.size<1073741824){for(;r.has(a);)a=Math.floor(2147483648*Math.random());return e(r,a)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(a);)a=Math.floor(Math.random()*n);return e(r,a)}}(o,r),i=function(e){return function(t){var n=e(t);return t.add(n),n}}(a);e.addUniqueNumber=i,e.generateUniqueNumber=a,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){var r=n(3),o=n(4),a=n(5);e.exports=function(e,t){return r(e)||o(e,t)||a()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(0);const a=()=>{try{return new DOMException("","AbortError")}catch(e){return e.code=20,e.name="AbortError",e}},i=new WeakSet,s=new WeakMap,u=new WeakMap,c=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,v=new WeakMap,g=new WeakMap,C={construct:()=>C},w=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,y=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),o=r.match(w);for(;null!==o;){const e=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(w)}return[n.join(";"),r]},_=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},b=e=>{if(!(e=>{try{new new Proxy(e,C)}catch(e){return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!=typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},M={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},O=(e,t)=>e.context===t,x=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch(e){return!1}return!0},E=()=>{try{return new DOMException("","IndexSizeError")}catch(e){return e.code=1,e.name="IndexSizeError",e}},A=e=>{e.getChannelData=(t=>n=>{try{return t.call(e,n)}catch(e){if(12===e.code)throw E();throw e}})(e.getChannelData)},I={numberOfChannels:1},T=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},N=e=>T(p,e),S=e=>{if(i.has(e))throw new Error("The AudioNode is already stored.");i.add(e),N(e).forEach(e=>e(!0))},D=e=>{if(!i.has(e))throw new Error("The AudioNode is not stored.");i.delete(e),N(e).forEach(e=>e(!1))},k=(e,t)=>"function"==typeof t?n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),t.call(e,n)}:t,R={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},P=e=>void 0===e||"number"==typeof e||"string"==typeof e&&("balanced"===e||"interactive"===e||"playback"===e);class L{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(e,t,n){let r=this._listeners.get(t);return void 0===r&&(r=k(this,t),"function"==typeof t&&this._listeners.set(t,r)),this._nativeEventTarget.addEventListener(e,r,n)}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const r=this._listeners.get(t);return this._nativeEventTarget.removeEventListener(e,void 0===r?null:r,n)}}const F=e=>"context"in e,B=e=>F(e[0]),V=e=>"port"in e,W=e=>"inputs"in e,j=(e,t,n,r)=>{if(W(t)){const o=t.inputs[r];return e.connect(o,n,0),[o,n,0]}return e.connect(t,n,r),[t,n,r]},q=(e,t)=>{if(!N(e).delete(t))throw new Error("Missing the expected event listener.")},z=(e,t,n,r)=>{W(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},Y=e=>T(s,e),X=e=>T(c,e),Z=e=>T(u,e),G=e=>T(l,e),U=(e,t,n,r)=>{for(const t of e)if(n(t)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},H=e=>i.has(e),Q=e=>f.has(e),$=e=>!i.has(e),J=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return e.delete(r),r},K=(e,t)=>{!V(e)&&t.every(e=>0===e.size)&&D(e)},ee=e=>new Promise(t=>{const n=e.createScriptProcessor(256,1,1),r=e.createGain(),o=e.createBuffer(1,2,44100),a=o.getChannelData(0);a[0]=1,a[1]=1;const i=e.createBufferSource();i.buffer=o,i.loop=!0,i.connect(n).connect(e.destination),i.connect(r),i.disconnect(r),n.onaudioprocess=r=>{const o=r.inputBuffer.getChannelData(0);Array.prototype.some.call(o,e=>1===e)?t(!0):t(!1),i.stop(),n.onaudioprocess=null,i.disconnect(n),n.disconnect(e.destination)},i.start()}),te=(e,t)=>{const n=new Map;for(const t of e)for(const e of t){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach((e,n)=>t(n,e))},ne=e=>"context"in e,re=(e,t,[n,r,o],a)=>{U(e[r],[t,n,o],e=>e[0]===t&&e[1]===n,a)},oe=(e,t,[n,r],o)=>{U(e,[t,n,r],e=>e[0]===t&&e[1]===n,o)},ae=(e,t,[n,r,o],a)=>{const i=e.get(n);void 0===i?e.set(n,new Set([[r,t,o]])):U(i,[r,t,o],e=>e[0]===r&&e[1]===t,a)},ie=(e,[t,n,r],o)=>{const a=e.get(t);void 0===a?e.set(t,new Set([[n,r]])):U(a,[n,r],e=>e[0]===n,o)},se=(e,t,n,r)=>{const o=T(e,t),a=J(o,e=>e[0]===n&&e[1]===r);return 0===o.size&&e.delete(t),a},ue=(e,t,n)=>{const r=T(e,t),o=J(r,e=>e[0]===n);return 0===r.size&&e.delete(t),o},ce=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:a}=Y(t),{outputs:i}=Y(e),s=N(e),u=i=>{const s=Z(t),u=Z(e);if(i){const i=se(a,e,n,r);re(o,e,i,!1),Q(e)||j(u,s,n,r),$(t)&&S(t)}else{const i=((e,t,n,r)=>J(e[r],e=>e[0]===t&&e[1]===n))(o,e,n,r);ae(a,r,i,!1),Q(e)||z(u,s,n,r),H(t)&&K(t,o)}};return!!U(i,[t,n,r],e=>e[0]===t&&e[1]===n&&e[2]===r,!0)&&(s.add(u),H(e)?re(o,e,[n,r,u],!0):ae(a,r,[e,n,u],!0),!0)},le=(e,t,n)=>{const{activeInputs:r,passiveInputs:o}=X(t),{outputs:a}=Y(e),i=N(e),s=a=>{const i=Z(e),s=G(t);if(a){const t=ue(o,e,n);oe(r,e,t,!1),Q(e)||i.connect(s,n)}else{const t=((e,t,n)=>J(e,e=>e[0]===t&&e[1]===n))(r,e,n);ie(o,t,!1),Q(e)||i.disconnect(s,n)}};return!!U(a,[t,n],e=>e[0]===t&&e[1]===n,!0)&&(i.add(s),H(e)?oe(r,e,[n,s],!0):ie(o,[e,n,s],!0),!0)},he=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},de=(e,t,n,r)=>{const[o,a]=((e,t,n,r)=>{const{activeInputs:o,passiveInputs:a}=Y(t),i=he(o[r],e,n);if(null===i){return[se(a,e,n,r)[2],!1]}return[i[2],!0]})(e,t,n,r);if(null!==o&&(q(e,o),a&&!Q(e)&&z(Z(e),Z(t),n,r)),H(t)){const{activeInputs:e}=Y(t);K(t,e)}},pe=(e,t,n)=>{const[r,o]=((e,t,n)=>{const{activeInputs:r,passiveInputs:o}=X(t),a=he(r,e,n);if(null===a){return[ue(o,e,n)[1],!1]}return[a[2],!0]})(e,t,n);null!==r&&(q(e,r),o&&!Q(e)&&Z(e).disconnect(G(t),n))};class fe{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((n,r)=>e.call(t,n,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const me={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,outputChannelCount:void 0,parameterData:{},processorOptions:{}},ve=e=>{const t=[];for(let n=0;n<e;n+=1)t.push(1);return t};function ge(e,t,n,r,o){if("function"==typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],r,o);else{const a=e.getChannelData(r);if(0===t[n].byteLength)t[n]=a.slice(o,o+128);else{const e=new Float32Array(a.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const Ce=(e,t,n,r,o)=>{"function"==typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],r,o):0!==t[n].byteLength&&e.getChannelData(r).set(t[n],o)},we=(e,t)=>{const n=[];for(let r=0;r<e;r+=1){const e=[],o="number"==typeof t?t:t[r];for(let t=0;t<o;t+=1)e.push(new Float32Array(128));n.push(e)}return n},ye=async(e,t,n,r,o,a)=>{const i=null===t?128*Math.ceil(e.context.length/128):t.length,s=r.channelCount*r.numberOfInputs,u=r.outputChannelCount.reduce((e,t)=>e+t,0),c=0===u?null:n.createBuffer(u,i,n.sampleRate);if(void 0===o)throw new Error("Missing the processor constructor.");const l=Y(e),h=await((e,t)=>{const n=T(v,e),r=Z(t);return T(n,r)})(n,e),d=we(r.numberOfInputs,r.channelCount),p=we(r.numberOfOutputs,r.outputChannelCount),f=Array.from(e.parameters.keys()).reduce((e,t)=>({...e,[t]:new Float32Array(128)}),{});for(let u=0;u<i;u+=128){if(r.numberOfInputs>0&&null!==t)for(let e=0;e<r.numberOfInputs;e+=1)for(let n=0;n<r.channelCount;n+=1)ge(t,d[e],n,n,u);void 0!==o.parameterDescriptors&&null!==t&&o.parameterDescriptors.forEach(({name:e},n)=>{ge(t,f,e,s+n,u)});for(let e=0;e<r.numberOfInputs;e+=1)for(let t=0;t<r.outputChannelCount[e];t+=1)0===p[e][t].byteLength&&(p[e][t]=new Float32Array(128));try{const e=d.map((e,t)=>0===l.activeInputs[t].size?[new Float32Array(0)]:e),t=a(u/n.sampleRate,n.sampleRate,()=>h.process(e,p,f));if(null!==c)for(let e=0,t=0;e<r.numberOfOutputs;e+=1){for(let n=0;n<r.outputChannelCount[e];n+=1)Ce(c,p[e],n,t+n,u);t+=r.outputChannelCount[e]}if(!t)break}catch(t){e.dispatchEvent(new ErrorEvent("processorerror",{error:t}));break}}return c},_e={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},be={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Me={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Oe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},xe={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Ee={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ae=(e,t,n)=>{const r=t[n];if(void 0===r)throw e();return r},Ie={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Te={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ne=()=>{try{return new DOMException("","InvalidStateError")}catch(e){return e.code=11,e.name="InvalidStateError",e}},Se=()=>{try{return new DOMException("","InvalidAccessError")}catch(e){return e.code=15,e.name="InvalidAccessError",e}},De={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},ke=(e,t,n,r,o,a,i,s,u,c,l)=>{const h=c.length;let d=s;for(let s=0;s<h;s+=1){let h=n[0]*c[s];for(let t=1;t<o;t+=1){const r=d-t&u-1;h+=n[t]*a[r],h-=e[t]*i[r]}for(let e=o;e<r;e+=1)h+=n[e]*a[d-e&u-1];for(let n=o;n<t;n+=1)h-=e[n]*i[d-n&u-1];a[d]=c[s],i[d]=h,d=d+1&u-1,l[s]=h}return d},Re=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,()=>{});return void 0!==n&&(n.catch(()=>{}),!0)}catch(e){}return!1},Pe={numberOfChannels:1},Le=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n]&&(e[n]=r)},Fe=(e,t)=>{Le(e,t,"channelCount"),Le(e,t,"channelCountMode"),Le(e,t,"channelInterpretation")},Be=e=>"function"==typeof e.getFloatTimeDomainData,Ve=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n].value&&(e[n].value=r)},We=e=>{e.start=(t=>(n=0,r=0,o)=>{if("number"==typeof o&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,o)})(e.start)},je=e=>{e.stop=(t=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})(e.stop)},qe=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),ze=async(e,t)=>{return new e(await(e=>new Promise((t,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:e})=>{r.close(),o.close(),t(e)},r.onmessageerror=({data:e})=>{r.close(),o.close(),n(e)},o.postMessage(e)}))(t))},Ye=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e);function Xe(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function Ze(e,t){let n=[0,0];for(let a=e.length-1;a>=0;a-=1)o=t,n=[(r=n)[0]*o[0]-r[1]*o[1],r[0]*o[1]+r[1]*o[0]],n[0]+=e[a];var r,o;return n}const Ge=()=>{try{return new DOMException("","NotSupportedError")}catch(e){return e.code=9,e.name="NotSupportedError",e}},Ue={numberOfChannels:1},He={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,type:"sine"},Qe={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},$e={disableNormalization:!1},Je={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Ke=()=>{try{return new DOMException("","UnknownError")}catch(e){return e.name="UnknownError",e}},et={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},tt=e=>{if(null===e)return!1;const t=e.length;return t%2!=0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},nt=(e,t,n,r)=>{let o=Object.getPrototypeOf(e);for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:a,set:i}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,{get:n(a),set:r(i)})},rt=(e=>(t,n)=>{const r=g.get(t);if(void 0!==r)return r;const o=e.get(t);if(void 0!==o)return o;const a=n();return a instanceof Promise?(e.set(t,a),a.then(n=>(e.delete(t),g.set(t,n),n))):(g.set(t,a),a)})(new Map),ot=(()=>"undefined"==typeof window?null:window)(),at=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(ot),it=(e=>t=>null!==e&&t instanceof e)(at),st=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(ot),ut=((e,t,n)=>r=>{if("closed"===r.state&&null!==t&&"webkitAudioContext"!==t.name){if(!e(r)){const e=h.get(r);if(void 0!==e)return e;const n=new t;return h.set(r,n),n}{const e=h.get(r);if(void 0!==e)return e;if(null!==n){const e=new n(1,1,44100);return h.set(r,e),e}}}return null})(it,st,at),ct=(e=>(t,n)=>{const r=e(t);return n(null!==r?r:t)})(ut),lt=((e,t,n)=>(r,o)=>{const a=n(r,e=>e.createAnalyser());if(Fe(a,o),!(o.maxDecibels>o.minDecibels))throw t();return Le(a,o,"fftSize"),Le(a,o,"maxDecibels"),Le(a,o,"minDecibels"),Le(a,o,"smoothingTimeConstant"),e(Be,()=>Be(a))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const r=Math.max(n.length,e.fftSize);for(let e=0;e<r;e+=1)t[e]=.0078125*(n[e]-128);return t}})(a),a})(rt,E,ct),ht=(e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(Y),dt=((e,t,n)=>async(r,o,a,i)=>{const s=e(r),u=[...i,r];await Promise.all(s.activeInputs.map((e,i)=>Array.from(e).filter(([e])=>!u.includes(e)).map(async([e,s])=>{const c=t(e),l=await c.render(e,o,u);n(e)||r===r.context.destination&&n(r)||l.connect(a,s,i)})).reduce((e,t)=>[...e,...t],[]))})(Y,ht,Q),pt=((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a,i){const s=r.get(a);return void 0!==s?Promise.resolve(s):(async(o,a,i)=>{let s=t(o);if(!O(s,a)){const t={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,fftSize:s.fftSize,maxDecibels:s.maxDecibels,minDecibels:s.minDecibels,smoothingTimeConstant:s.smoothingTimeConstant};s=e(a,t)}return r.set(a,s),await n(o,a,s,i),s})(o,a,i)}}})(lt,Z,dt),ft=new WeakMap,mt=(e=>t=>{const n=e.get(t);if(void 0===n)throw Ne();return n})(d),vt=new WeakMap,gt=(e=>t=>null!==e&&"function"==typeof e.AudioNode&&t instanceof e.AudioNode)(ot),Ct=(e=>t=>null!==e&&"function"==typeof e.AudioParam&&t instanceof e.AudioParam)(ot),wt=((e,t,n,r,o,a,i,s,c,l,h,d,f)=>(class extends L{constructor(t,r,o,a){super(o),this._context=t,this._nativeAudioNode=o;const i=l(t);f(i)||!0===n(ee,()=>ee(i))||(e=>{const t=new Map;e.connect=(e=>(n,r=0,o=0)=>{const a=ne(n)?e(n,r,o):e(n,r),i=t.get(n);return void 0===i?t.set(n,[{input:o,output:r}]):i.every(e=>e.input!==o||e.output!==r)&&i.push({input:o,output:r}),a})(e.connect.bind(e)),e.disconnect=(n=>(r,o,a)=>{if(n.apply(e),void 0===r)t.clear();else if("number"==typeof r)for(const[e,n]of t){const o=n.filter(e=>e.output!==r);0===o.length?t.delete(e):t.set(e,o)}else if(t.has(r))if(void 0===o)t.delete(r);else{const e=t.get(r);if(void 0!==e){const n=e.filter(e=>e.output!==o&&(e.input!==a||void 0===a));0===n.length?t.delete(r):t.set(r,n)}}for(const[n,r]of t)r.forEach(t=>{ne(n)?e.connect(n,t.output,t.input):e.connect(n,t.output)})})(e.disconnect)})(o),u.set(this,o),p.set(this,new Set),r&&S(this),e(this,a,o)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e,n=0,o=0){const s=l(this._context),u=f(s);if(h(e)||d(e))throw a();if(F(e)){const i=Z(e);try{const r=j(this._nativeAudioNode,i,n,o);if(u||$(this)?this._nativeAudioNode.disconnect(...r):$(e)&&S(e),V(e)){const e=t.get(i);if(void 0===e){const e=s.createGain();e.connect(r[0],0,r[2]),t.set(i,new Map([[o,e]]))}else if(void 0===e.get(o)){const t=s.createGain();t.connect(r[0],0,r[2]),e.set(o,t)}}}catch(e){if(12===e.code)throw a();throw e}if(u?((e,t,n,r)=>{const{outputs:o}=Y(e);if(U(o,[t,n,r],e=>e[0]===t&&e[1]===n&&e[2]===r,!0)){const{activeInputs:o}=Y(t);return re(o,e,[n,r,null],!0),!0}return!1})(this,e,n,o):ce(this,e,n,o)){const t=c([this],e);te(t,r(u))}return e}const p=G(e);if("playbackRate"===p.name)throw i();try{this._nativeAudioNode.connect(p,n),(u||$(this))&&this._nativeAudioNode.disconnect(p,n)}catch(e){if(12===e.code)throw a();throw e}if(u?((e,t,n)=>{const{outputs:r}=Y(e);if(U(r,[t,n],e=>e[0]===t&&e[1]===n,!0)){const{activeInputs:r}=X(t);return oe(r,e,[n,null],!0),!0}return!1})(this,e,n):le(this,e,n)){const t=c([this],e);te(t,r(u))}}disconnect(e,t,n){let r;if(void 0===e)r=(e=>{const t=Y(e),n=[];for(const r of t.outputs)B(r)?de(e,...r):pe(e,...r),n.push(r[0]);return t.outputs.clear(),n})(this);else if("number"==typeof e){if(e<0||e>=this.numberOfOutputs)throw o();r=((e,t)=>{const n=Y(e),r=[];for(const o of n.outputs)o[1]===t&&(B(o)?de(e,...o):pe(e,...o),r.push(o[0]),n.outputs.delete(o));return r})(this,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw o();if(F(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw o();if(r=((e,t,n,r)=>{const o=Y(e);return Array.from(o.outputs).filter(e=>!(e[0]!==t||void 0!==n&&e[1]!==n||void 0!==r&&e[2]!==r)).map(t=>(B(t)?de(e,...t):pe(e,...t),o.outputs.delete(t),t[0]))})(this,e,t,n),0===r.length)throw a()}for(const e of r){const t=c([this],e);te(t,s)}}}))((e=>(t,n,r)=>{const o=[];for(let e=0;e<r.numberOfInputs;e+=1)o.push(new Set);e.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})})(s),ft,rt,((e,t,n,r,o,a)=>i=>(s,u)=>{const c=e.get(s);if(void 0===c){if(!i&&a(s)){const e=r(s),{outputs:a}=n(s);for(const n of a)if(B(n)){const o=r(n[0]);t(e,o,n[1],n[2])}else{const t=o(n[0]);e.disconnect(t,n[1])}}e.set(s,u)}else e.set(s,c+u)})(f,z,Y,Z,G,H),E,Se,Ge,((e,t,n,r,o,a,i,s)=>(u,c)=>{const l=t.get(u);if(void 0===l)throw new Error("Missing the expected cycle count.");const h=a(u.context),d=s(h);if(l===c){if(t.delete(u),!d&&i(u)){const t=r(u),{outputs:a}=n(u);for(const n of a)if(B(n)){const o=r(n[0]);e(t,o,n[1],n[2])}else{const e=o(n[0]);t.connect(e,n[1])}}}else t.set(u,l-c)})(j,f,Y,Z,G,mt,H,it),((e,t,n)=>(function r(o,a){const i=F(a)?a:n(e,a);if((e=>"delayTime"in e)(i))return[];if(o[0]===i)return[o];if(o.includes(i))return[];const{outputs:s}=t(i);return Array.from(s).map(e=>r([...o,i],e[0])).reduce((e,t)=>e.concat(t),[])}))(vt,Y,T),mt,gt,Ct,it),yt=((e,t,n,r,o,a)=>(class extends e{constructor(e,n=M){const i=o(e),s={...M,...n},u=r(i,s);super(e,!1,u,a(i)?t():null),this._nativeAnalyserNode=u}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}}))(wt,pt,E,lt,mt,it),_t=new WeakSet,bt=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(ot),Mt=(e=>t=>(e[0]=t,e[0]))(new Uint32Array(1)),Ot=((e,t)=>n=>{n.copyFromChannel=(r,o,a=0)=>{const i=e(a),s=e(o);if(s>=n.numberOfChannels)throw t();const u=n.length,c=n.getChannelData(s),l=r.length;for(let e=i<0?-i:0;e+i<u&&e<l;e+=1)r[e]=c[e+i]},n.copyToChannel=(r,o,a=0)=>{const i=e(a),s=e(o);if(s>=n.numberOfChannels)throw t();const u=n.length,c=n.getChannelData(s),l=r.length;for(let e=i<0?-i:0;e+i<u&&e<l;e+=1)c[e+i]=r[e]}})(Mt,E),xt=(e=>t=>{t.copyFromChannel=(n=>(r,o,a=0)=>{const i=e(a),s=e(o);if(i<t.length)return n.call(t,r,s,i)})(t.copyFromChannel),t.copyToChannel=(n=>(r,o,a=0)=>{const i=e(a),s=e(o);if(i<t.length)return n.call(t,r,s,i)})(t.copyToChannel)})(Mt),Et=((e,t,n,r,o,a,i,s)=>{let u=null;return class c{constructor(c){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:l,numberOfChannels:h,sampleRate:d}={...I,...c};null===u&&(u=new o(1,1,44100));const p=null!==r&&t(a,a)?new r({length:l,numberOfChannels:h,sampleRate:d}):u.createBuffer(h,l,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(i(p),A(p)):t(x,()=>x(p))||s(p),e.add(p),p}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===c.prototype||e.has(t)}}})(_t,rt,Ge,bt,at,(e=>()=>{if(null===e)return!1;try{new e({length:1,sampleRate:44100})}catch(e){return!1}return!0})(bt),Ot,xt),At=(e=>t=>{const n=e(t,e=>e.createOscillator());try{n.start(-1)}catch(e){return e instanceof RangeError}return!1})(ct),It=(e=>t=>{const n=t.createBuffer(1,1,44100),r=e(t,e=>e.createBufferSource());r.buffer=n,r.start(),r.stop();try{return r.stop(),!0}catch(e){return!1}})(ct),Tt=(e=>t=>{const n=e(t,e=>e.createOscillator());try{n.stop(-1)}catch(e){return e instanceof RangeError}return!1})(ct),Nt=(e=>(t,n)=>{const r=e(n,e=>e.createGain());t.connect(r);const o=(e=>()=>{e.call(t,r),t.removeEventListener("ended",o)})(t.disconnect);t.addEventListener("ended",o),Ye(t,r),t.stop=(e=>{let n=!1;return(o=0)=>{if(n)try{e.call(t,o)}catch(e){r.gain.setValueAtTime(0,o)}else e.call(t,o),n=!0}})(t.stop)})(ct),St=((e,t,n)=>async(r,o,a,i)=>{const s=t(r);await Promise.all(Array.from(s.activeInputs).map(async([t,r])=>{const s=e(t),u=await s.render(t,o,i);n(t)||u.connect(a,r)}))})(ht,X,Q),Dt=(e=>(t,n,r,o)=>e(n,t,r,o))(St),kt=((e,t,n,r,o,a,i,s,u,c,l,h)=>(d,p={})=>{const f=t(d,e=>e.createBufferSource());return Fe(f,p),Ve(f,p,"playbackRate"),Le(f,p,"buffer"),Le(f,p,"loop"),Le(f,p,"loopEnd"),Le(f,p,"loopStart"),e(n,()=>n(d))||(e=>{e.start=(t=>{let n=!1;return(r=0,o=0,a)=>{if(n)throw Ne();t.call(e,r,o,a),n=!0}})(e.start)})(f),e(r,r)||((e,t)=>{let n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;e.start=((o,a)=>(i=0,s=0,u=Number.POSITIVE_INFINITY)=>{if(o.call(e,i,s),u>=0&&u<Number.POSITIVE_INFINITY){const o=Math.max(i,t.currentTime),s=u/e.playbackRate.value;n=o+s,a.call(e,Math.min(n,r))}})(e.start,e.stop),e.stop=(o=>(a=0)=>{r=Math.max(a,t.currentTime),o.call(e,Math.min(n,r))})(e.stop)})(f,d),e(o,()=>o(d))||c(f),e(a,()=>a(d))||l(f,d),e(i,()=>i(d))||We(f),e(s,()=>s(d))||h(f,d),e(u,()=>u(d))||je(f),f})(rt,ct,(e=>t=>{const n=e(t,e=>e.createBufferSource());n.start();try{n.start()}catch(e){return!0}return!1})(ct),(e=>()=>{if(null===e)return Promise.resolve(!1);const t=new e(1,1,44100),n=t.createBuffer(1,1,t.sampleRate),r=t.createBufferSource();return n.getChannelData(0)[0]=1,r.buffer=n,r.start(0,0,0),r.connect(t.destination),new Promise(e=>{t.oncomplete=({renderedBuffer:t})=>{e(0===t.getChannelData(0)[0])},t.startRendering()})})(at),(e=>t=>{const n=e(t,e=>e.createBufferSource()),r=t.createBuffer(1,1,44100);n.buffer=r;try{n.start(0,1)}catch(e){return!1}return!0})(ct),(e=>t=>{const n=e(t,e=>e.createBufferSource());n.start();try{n.stop()}catch(e){return!1}return!0})(ct),At,It,Tt,e=>{e.start=(t=>(n=0,r=0,o)=>{const a=e.buffer,i=null===a?r:Math.min(a.duration,r);null!==a&&i>a.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,i,o)})(e.start)},(e=>(t,n)=>{const r=n.createBuffer(1,1,n.sampleRate);null===t.buffer&&(t.buffer=r),e(t,"buffer",e=>()=>{const n=e.call(t);return n===r?null:n},e=>n=>e.call(t,null===n?r:n))})(nt),Nt),Rt=((e,t)=>(n,r,o,a)=>{return e(r).replay(o),t(r,n,o,a)})((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(X),St),Pt=((e,t,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null;return{set start(e){i=e},set stop(e){s=e},render(u,c,l){const h=a.get(c);return void 0!==h?Promise.resolve(h):(async(u,c,l)=>{let h=n(u);const d=O(h,c);if(!d){const e={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=t(c,e),null!==i&&h.start(...i),null!==s&&h.stop(s)}return a.set(c,h),d?await e(c,u.playbackRate,h.playbackRate,l):await r(c,u.playbackRate,h.playbackRate,l),await o(u,c,h,l),h})(u,c,l)}}})(Dt,kt,Z,Rt,dt),Lt=((e,t,n,r,a,i,s,u,c,l,h,d)=>(p,f,m,v=null,g=null)=>{const C=new o.AutomationEventList(m.defaultValue),w=f?r(C):null,y={get defaultValue(){return m.defaultValue},get maxValue(){return null===v?m.maxValue:v},get minValue(){return null===g?m.minValue:g},get value(){return m.value},set value(e){m.value=e,y.setValueAtTime(e,p.context.currentTime)},cancelAndHoldAtTime(e){if("function"==typeof m.cancelAndHoldAtTime)null===w&&C.flush(p.context.currentTime),C.add(a(e)),m.cancelAndHoldAtTime(e);else{const t=Array.from(C).pop();null===w&&C.flush(p.context.currentTime),C.add(a(e));const n=Array.from(C).pop();m.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return y},cancelScheduledValues:e=>(null===w&&C.flush(p.context.currentTime),C.add(i(e)),m.cancelScheduledValues(e),y),exponentialRampToValueAtTime:(e,t)=>(null===w&&C.flush(p.context.currentTime),C.add(s(e,t)),m.exponentialRampToValueAtTime(e,t),y),linearRampToValueAtTime:(e,t)=>(null===w&&C.flush(p.context.currentTime),C.add(u(e,t)),m.linearRampToValueAtTime(e,t),y),setTargetAtTime:(e,t,n)=>(null===w&&C.flush(p.context.currentTime),C.add(c(e,t,n)),m.setTargetAtTime(e,t,n),y),setValueAtTime:(e,t)=>(null===w&&C.flush(p.context.currentTime),C.add(l(e,t)),m.setValueAtTime(e,t),y),setValueCurveAtTime(e,t,n){if(null!==d&&"webkitAudioContext"===d.name){const r=t+n,o=p.context.sampleRate,a=Math.ceil(t*o),i=Math.floor(r*o),s=i-a,u=new Float32Array(s);for(let r=0;r<s;r+=1){const i=(e.length-1)/n*((a+r)/o-t),s=Math.floor(i),c=Math.ceil(i);u[r]=s===c?e[s]:(1-(i-s))*e[s]+(1-(c-i))*e[c]}null===w&&C.flush(p.context.currentTime),C.add(h(u,t,n)),m.setValueCurveAtTime(u,t,n);const c=i/o;c<r&&y.setValueAtTime(u[u.length-1],c),y.setValueAtTime(e[e.length-1],r)}else null===w&&C.flush(p.context.currentTime),C.add(h(e,t,n)),m.setValueCurveAtTime(e,t,n);return y}};return n.set(y,m),t.set(y,p),e(y,w),y})((e=>(t,n)=>{e.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})})(c),vt,l,e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:r}=n;t.exponentialRampToValueAtTime(r,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:r}=n;t.linearRampToValueAtTime(r,e)}else if("setTarget"===n.type){const{startTime:e,target:r,timeConstant:o}=n;t.setTargetAtTime(r,e,o)}else if("setValue"===n.type){const{startTime:e,value:r}=n;t.setValueAtTime(r,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:r,values:o}=n;t.setValueCurveAtTime(o,r,e)}}}}),o.createCancelAndHoldAutomationEvent,o.createCancelScheduledValuesAutomationEvent,o.createExponentialRampToValueAutomationEvent,o.createLinearRampToValueAutomationEvent,o.createSetTargetAutomationEvent,o.createSetValueAutomationEvent,o.createSetValueCurveAutomationEvent,st),Ft=((e,t,n,r,o,a,i)=>(class extends e{constructor(e,r=R){const s=a(e),u={...R,...r},c=o(s,u),l=i(s),h=l?t():null;super(e,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==r.buffer&&void 0!==r.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,l,c.playbackRate,34028234663852886e22,-34028234663852886e22)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){try{this._nativeAudioBufferSourceNode.buffer=e}catch(t){if(null!==e||17!==t.code)throw t;if(null!==this._nativeAudioBufferSourceNode.buffer){const e=this._nativeAudioBufferSourceNode.buffer,t=e.numberOfChannels;for(let n=0;n<t;n+=1)e.getChannelData(n).fill(0);this._isBufferNullified=!0}}if(null!==e){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get onended(){return this._onended}set onended(e){const t=k(this,e);this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=n===t?e:n}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get playbackRate(){return this._playbackRate}start(e=0,t=0,n){if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer)this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n];else{S(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),setTimeout(()=>D(this),1e3)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}}))(wt,Pt,Lt,Ne,kt,mt,it),Bt=(e=>(t,n)=>{const r=e(t,e=>e.createGain());return Fe(r,n),Ve(r,n,"gain"),r})(ct),Vt=((e,t,n,r,o,a,i,s)=>(class extends e{constructor(e,n){const r=a(e),u=i(r),c=o(r,n,u);super(e,!1,c,u?t(s):null),this._isNodeOfNativeOfflineAudioContext=u,this._nativeAudioDestinationNode=c}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}}))(wt,e=>{let t=null;return{render:(n,r,o)=>(null===t&&(t=(async(t,n,r)=>{const o=n.destination;return await e(t,n,o,r),o})(n,r,o)),t)}},E,Ne,((e,t)=>(n,r,o)=>{const a=n.destination;if(a.channelCount!==r)try{a.channelCount=r}catch(e){}o&&"explicit"!==a.channelCountMode&&(a.channelCountMode="explicit"),0===a.maxChannelCount&&Object.defineProperty(a,"maxChannelCount",{value:r});const i=e(n,{channelCount:r,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:1});return t(i,"channelCount",e=>()=>e.call(i),e=>t=>{e.call(i,t);try{a.channelCount=t}catch(e){if(t>a.maxChannelCount)throw e}}),t(i,"channelCountMode",e=>()=>e.call(i),e=>t=>{e.call(i,t),a.channelCountMode=t}),t(i,"channelInterpretation",e=>()=>e.call(i),e=>t=>{e.call(i,t),a.channelInterpretation=t}),Object.defineProperty(i,"maxChannelCount",{get:()=>a.maxChannelCount}),i.connect(a),i})(Bt,nt),mt,it,dt),Wt=(e=>(t,n)=>{const r=e(t,e=>e.createBiquadFilter());return Fe(r,n),Ve(r,n,"Q"),Ve(r,n,"detune"),Ve(r,n,"frequency"),Ve(r,n,"gain"),Le(r,n,"type"),r})(ct),jt=((e,t,n,r,o,a,i)=>(class extends e{constructor(e,r=_e){const s=a(e),u={..._e,...r},c=o(s,u),l=i(s);super(e,!1,c,l?n():null),this._Q=t(this,l,c.Q,34028234663852886e22,-34028234663852886e22),this._detune=t(this,l,c.detune,1200*Math.log2(34028234663852886e22),-1200*Math.log2(34028234663852886e22)),this._frequency=t(this,l,c.frequency,e.sampleRate/2,0),this._gain=t(this,l,c.gain,40*Math.log10(34028234663852886e22),-40*Math.log10(34028234663852886e22)),this._nativeBiquadFilterNode=c}get Q(){return this._Q}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){if(this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n),e.length!==t.length||t.length!==n.length)throw r()}}))(wt,Lt,((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s,u){const c=a.get(s);return void 0!==c?Promise.resolve(c):(async(i,s,u)=>{let c=n(i);const l=O(c,s);if(!l){const e={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=t(s,e)}return a.set(s,c),l?(await e(s,i.Q,c.Q,u),await e(s,i.detune,c.detune,u),await e(s,i.frequency,c.frequency,u),await e(s,i.gain,c.gain,u)):(await r(s,i.Q,c.Q,u),await r(s,i.detune,c.detune,u),await r(s,i.frequency,c.frequency,u),await r(s,i.gain,c.gain,u)),await o(i,s,c,u),c})(i,s,u)}}})(Dt,Wt,Z,Rt,dt),Se,Wt,mt,it),qt=((e,t)=>(n,r,o)=>{const a=new Set;return n.connect=(o=>(i,s=0,u=0)=>{const c=0===a.size;if(t(i))return o.call(n,i,s,u),e(a,[i,s,u],e=>e[0]===i&&e[1]===s&&e[2]===u,!0),c&&r(),i;o.call(n,i,s),e(a,[i,s],e=>e[0]===i&&e[1]===s,!0),c&&r()})(n.connect),n.disconnect=(e=>(r,i,s)=>{const u=a.size>0;if(void 0===r)e.apply(n),a.clear();else if("number"==typeof r){e.call(n,r);for(const e of a)e[1]===r&&a.delete(e)}else{t(r)?e.call(n,r,i,s):e.call(n,r,i);for(const e of a)e[0]!==r||void 0!==i&&e[1]!==i||void 0!==s&&e[2]!==s||a.delete(e)}const c=0===a.size;u&&c&&o()})(n.disconnect),n})(U,gt),zt=((e,t,n)=>(r,o)=>{o.channelCount=1,o.channelCountMode="explicit",Object.defineProperty(o,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(o,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const a=t(r,e=>e.createBufferSource());n(o,()=>{const e=o.numberOfInputs;for(let t=0;t<e;t+=1)a.connect(o,0,t)},()=>a.disconnect(o))})(Ne,ct,qt),Yt=((e,t)=>(n,r)=>{const o=e(n,e=>e.createChannelMerger(r.numberOfInputs));Fe(o,r),1!==o.channelCount&&"explicit"!==o.channelCountMode&&t(n,o);try{o.channelCount=void 0===r.numberOfInputs?6:r.numberOfInputs,t(n,o)}catch(e){}return o})(ct,zt),Xt=((e,t,n,r,o)=>(class extends e{constructor(e,a=be){const i=r(e),s={...be,...a};super(e,!1,n(i,s),o(i)?t():null)}}))(wt,((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a,i){const s=r.get(a);return void 0!==s?Promise.resolve(s):(async(o,a,i)=>{let s=t(o);if(!O(s,a)){const t={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfInputs:s.numberOfInputs};s=e(a,t)}return r.set(a,s),await n(o,a,s,i),s})(o,a,i)}}})(Yt,Z,dt),Yt,mt,it),Zt=(e=>(t,n)=>{const r=e(t,e=>e.createChannelSplitter(n.numberOfOutputs));return Fe(r,n),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw Ne()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw Ne()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw Ne()}})})(r),r})(ct),Gt=((e,t,n,r,o)=>(class extends e{constructor(e,a=Me){const i=r(e),s=(e=>({...e,channelCount:e.numberOfOutputs}))({...Me,...a});super(e,!1,n(i,s),o(i)?t():null)}}))(wt,((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a,i){const s=r.get(a);return void 0!==s?Promise.resolve(s):(async(o,a,i)=>{let s=t(o);if(!O(s,a)){const t={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfOutputs:s.numberOfOutputs};s=e(a,t)}return r.set(a,s),await n(o,a,s,i),s})(o,a,i)}}})(Zt,Z,dt),Zt,mt,it),Ut=((e,t,n)=>(r,{offset:o,...a})=>{const i=r.createBuffer(1,2,r.sampleRate),s=e(r),u=t(r,{...a,gain:o}),c=i.getChannelData(0);c[0]=1,c[1]=1,s.buffer=i,s.loop=!0;return n(Ye({get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){u.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){u.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){u.channelInterpretation=e},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return s.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return s.onended},set onended(e){s.onended=e},addEventListener:(...e)=>s.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>s.dispatchEvent(e[0]),removeEventListener:(...e)=>s.removeEventListener(e[0],e[1],e[2]),start(e=0){s.start.call(s,e)},stop(e=0){s.stop.call(s,e)}},u),()=>s.connect(u),()=>s.disconnect(u))})(kt,Bt,qt),Ht=((e,t,n,r,o)=>(a,i)=>{if(void 0===a.createConstantSource)return n(a,i);const s=t(a,e=>e.createConstantSource());return Fe(s,i),Ve(s,i,"offset"),e(r,()=>r(a))||We(s),e(o,()=>o(a))||je(s),s})(rt,ct,Ut,At,Tt),Qt=((e,t,n,r,o,a)=>(class extends e{constructor(e,i=Oe){const s=o(e),u={...Oe,...i},c=r(s,u),l=a(s),h=l?n():null;super(e,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=t(this,l,c.offset,34028234663852886e22,-34028234663852886e22),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t=k(this,e);this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=n===t?e:n}start(e=0){if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer)this._constantSourceNodeRenderer.start=e;else{S(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),setTimeout(()=>D(this),1e3)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}}))(wt,Lt,((e,t,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null;return{set start(e){i=e},set stop(e){s=e},render(u,c,l){const h=a.get(c);return void 0!==h?Promise.resolve(h):(async(u,c,l)=>{let h=n(u);const d=O(h,c);if(!d){const e={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=t(c,e),null!==i&&h.start(i),null!==s&&h.stop(s)}return a.set(c,h),d?await e(c,u.offset,h.offset,l):await r(c,u.offset,h.offset,l),await o(u,c,h,l),h})(u,c,l)}}})(Dt,Ht,Z,Rt,dt),Ht,mt,it),$t=((e,t,n)=>(r,{buffer:o,channelCount:a,channelCountMode:i,channelInterpretation:s,disableNormalization:u})=>{const c=e(r,e=>e.createConvolver());Fe(c,{channelCount:Math.max(a,2),channelCountMode:"max"===i?i:"clamped-max",channelInterpretation:s});const l=t(r,{channelCount:a,channelCountMode:i,channelInterpretation:s,gain:1}),h={get buffer(){return c.buffer},set buffer(e){c.buffer=e},get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(e){e>2&&(c.channelCount=e),l.channelCount=e},get channelCountMode(){return l.channelCountMode},set channelCountMode(e){"max"===e&&(c.channelCountMode=e),l.channelCountMode=e},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(e){c.channelInterpretation=e,l.channelInterpretation=e},get context(){return c.context},get inputs(){return[c]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get normalize(){return c.normalize},set normalize(e){c.normalize=e},addEventListener:(...e)=>c.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>c.dispatchEvent(e[0]),removeEventListener:(...e)=>c.removeEventListener(e[0],e[1],e[2])};u===h.normalize&&(h.normalize=!u),o!==h.buffer&&(h.buffer=o);return n(Ye(h,l),()=>c.connect(l),()=>c.disconnect(l))})(ct,Bt,qt),Jt=((e,t,n,r)=>(o,a)=>{const i=e(o,e=>e.createConvolver());try{i.channelCount=1}catch(e){return t(o,a)}if(Fe(i,a),a.disableNormalization===i.normalize&&(i.normalize=!a.disableNormalization),Le(i,a,"buffer"),a.channelCount>2)throw n();if(r(i,"channelCount",e=>()=>e.call(i),e=>t=>{if(t>2)throw n();return e.call(i,t)}),"max"===a.channelCountMode)throw n();return r(i,"channelCountMode",e=>()=>e.call(i),e=>t=>{if("max"===t)throw n();return e.call(i,t)}),i})(ct,$t,Ge,nt),Kt=((e,t,n,r,o)=>(class extends e{constructor(e,a=xe){const i=r(e),s={...xe,...a},u=n(i,s);super(e,!1,u,o(i)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=u}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){if(this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer){const e=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=e.createBuffer(1,1,e.sampleRate),this._isBufferNullified=!0}else this._isBufferNullified=!1}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}}))(wt,((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a,i){const s=r.get(a);return void 0!==s?Promise.resolve(s):(async(o,a,i)=>{let s=t(o);if(!O(s,a)){const t={buffer:s.buffer,channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,disableNormalization:!s.normalize};s=e(a,t)}return r.set(a,s),W(s)?await n(o,a,s.inputs[0],i):await n(o,a,s,i),s})(o,a,i)}}})(Jt,Z,dt),Jt,mt,it),en=(e=>(t,n)=>{const r=e(t,e=>e.createDelay(n.maxDelayTime));return Fe(r,n),Ve(r,n,"delayTime"),r})(ct),tn=((e,t,n,r,o,a)=>(class extends e{constructor(e,i=Ee){const s=o(e),u={...Ee,...i},c=r(s,u),l=a(s);super(e,!1,c,l?n(u.maxDelayTime):null),this._delayTime=t(this,l,c.delayTime,u.maxDelayTime,0)}get delayTime(){return this._delayTime}}))(wt,Lt,((e,t,n,r,o)=>a=>{const i=new WeakMap;return{render(s,u,c){const l=i.get(u);return void 0!==l?Promise.resolve(l):(async(s,u,c)=>{let l=n(s);const h=O(l,u);if(!h){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,delayTime:l.delayTime.value,maxDelayTime:a};l=t(u,e)}return i.set(u,l),h?await e(u,s.delayTime,l.delayTime,c):await r(u,s.delayTime,l.delayTime,c),await o(s,u,l,c),l})(s,u,c)}}})(Dt,en,Z,Rt,dt),en,mt,it),nn=((e,t)=>(n,r)=>{const o=e(n,e=>e.createDynamicsCompressor());if(Fe(o,r),r.channelCount>2)throw t();if("max"===r.channelCountMode)throw t();return Ve(o,r,"attack"),Ve(o,r,"knee"),Ve(o,r,"ratio"),Ve(o,r,"release"),Ve(o,r,"threshold"),o})(ct,Ge),rn=((e,t,n,r,o,a,i)=>(class extends e{constructor(e,o=Ie){const s=a(e),u={...Ie,...o},c=r(s,u),l=i(s);super(e,!1,c,l?n():null),this._attack=t(this,l,c.attack,1,0),this._knee=t(this,l,c.knee,40,0),this._nativeDynamicsCompressorNode=c,this._ratio=t(this,l,c.ratio,20,1),this._release=t(this,l,c.release,1,0),this._threshold=t(this,l,c.threshold,0,-100)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}}))(wt,Lt,((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s,u){const c=a.get(s);return void 0!==c?Promise.resolve(c):(async(i,s,u)=>{let c=n(i);const l=O(c,s);if(!l){const e={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=t(s,e)}return a.set(s,c),l?(await e(s,i.attack,c.attack,u),await e(s,i.knee,c.knee,u),await e(s,i.ratio,c.ratio,u),await e(s,i.release,c.release,u),await e(s,i.threshold,c.threshold,u)):(await r(s,i.attack,c.attack,u),await r(s,i.knee,c.knee,u),await r(s,i.ratio,c.ratio,u),await r(s,i.release,c.release,u),await r(s,i.threshold,c.threshold,u)),await o(i,s,c,u),c})(i,s,u)}}})(Dt,nn,Z,Rt,dt),nn,Ge,mt,it),on=((e,t,n,r,o,a)=>(class extends e{constructor(e,i=Te){const s=o(e),u={...Te,...i},c=r(s,u),l=a(s);super(e,!1,c,l?n():null),this._gain=t(this,l,c.gain,34028234663852886e22,-34028234663852886e22)}get gain(){return this._gain}}))(wt,Lt,((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s,u){const c=a.get(s);return void 0!==c?Promise.resolve(c):(async(i,s,u)=>{let c=n(i);const l=O(c,s);if(!l){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=t(s,e)}return a.set(s,c),l?await e(s,i.gain,c.gain,u):await r(s,i.gain,c.gain,u),await o(i,s,c,u),c})(i,s,u)}}})(Dt,Bt,Z,Rt,dt),Bt,mt,it),an=(e=>(t,n,r,o)=>e(t,e=>e.createScriptProcessor(n,r,o)))(ct),sn=((e,t,n,r)=>(o,a,{channelCount:i,channelCountMode:s,channelInterpretation:u,feedback:c,feedforward:l})=>{const h=qe(a,o.sampleRate),d=c.length,p=l.length,f=Math.min(d,p);if(0===c.length||c.length>20)throw r();if(0===c[0])throw t();if(0===l.length||l.length>20)throw r();if(0===l[0])throw t();if(1!==c[0]){for(let e=0;e<p;e+=1)l[e]/=c[0];for(let e=1;e<d;e+=1)c[e]/=c[0]}const m=n(o,h,i,i);m.channelCount=i,m.channelCountMode=s,m.channelInterpretation=u;const v=[],g=[],C=[];for(let e=0;e<i;e+=1){v.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),g.push(e),C.push(t)}m.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,r=t.numberOfChannels;for(let e=0;e<r;e+=1){const r=t.getChannelData(e),o=n.getChannelData(e);v[e]=ke(c,d,l,p,f,g[e],C[e],v[e],32,r,o)}};const w=o.sampleRate/2;return Ye({get bufferSize(){return h},get channelCount(){return m.channelCount},set channelCount(e){m.channelCount=e},get channelCountMode(){return m.channelCountMode},set channelCountMode(e){m.channelCountMode=e},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(e){m.channelInterpretation=e},get context(){return m.context},get inputs(){return[m]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},addEventListener:(...e)=>m.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>m.dispatchEvent(e[0]),getFrequencyResponse(t,n,r){if(t.length!==n.length||n.length!==r.length)throw e();const o=t.length;for(let e=0;e<o;e+=1){const o=-Math.PI*(t[e]/w),a=[Math.cos(o),Math.sin(o)],i=Xe(Ze(l,a),Ze(c,a));n[e]=Math.sqrt(i[0]*i[0]+i[1]*i[1]),r[e]=Math.atan2(i[1],i[0])}},removeEventListener:(...e)=>m.removeEventListener(e[0],e[1],e[2])},m)})(Se,Ne,an,Ge),un=((e,t,n,r)=>o=>e(Re,()=>Re(o))?Promise.resolve(e(r,r)).then(e=>{if(!e){const e=n(o,512,0,1);o.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>o.currentTime,e.connect(o.destination)}return o.startRendering()}):new Promise(e=>{const n=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(o.destination),o.startRendering()}))(rt,Bt,an,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(e=>{n.oncomplete=()=>{r.disconnect(),e(0!==n.currentTime)},n.startRendering()})})(Bt,at)),cn=((e,t,n,r,o,a)=>(i,s)=>{const u=new WeakMap;let c=null;const l=async(l,h,d)=>{let p=n(l),f=null;const m=O(p,h);if(void 0===h.createIIRFilter?f=e(h):m||(p=t(h,e=>e.createIIRFilter(s,i))),u.set(h,null===f?p:f),null!==f){if(null===c){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new r(l.context.destination.channelCount,l.context.length,h.sampleRate);c=(async()=>{return await o(l,e,e.destination,d),((e,t,n,r)=>{const o=n.length,a=r.length,i=Math.min(o,a);if(1!==n[0]){for(let e=0;e<o;e+=1)r[e]/=n[0];for(let e=1;e<a;e+=1)n[e]/=n[0]}const s=new Float32Array(32),u=new Float32Array(32),c=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),l=e.numberOfChannels;for(let t=0;t<l;t+=1){const l=e.getChannelData(t),h=c.getChannelData(t);s.fill(0),u.fill(0),ke(n,o,r,a,i,s,u,0,32,l,h)}return c})(await a(e),h,i,s)})()}const e=await c;return f.buffer=e,f.start(0),f}return await o(l,h,p,d),p};return{render(e,t,n){const r=u.get(t);return void 0!==r?Promise.resolve(r):l(e,t,n)}}})(kt,ct,Z,at,dt,un),ln=((e,t,n,r,o)=>(class extends e{constructor(e,a){const i=r(e),s=o(i),u={...De,...a},c=t(i,s?null:e.baseLatency,u);super(e,!1,c,s?n(u.feedback,u.feedforward):null),(e=>{e.getFrequencyResponse=(t=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw Se();return t.call(e,n,r,o)})(e.getFrequencyResponse)})(c),this._nativeIIRFilterNode=c}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}}))(wt,((e,t)=>(n,r,o)=>{if(void 0===n.createIIRFilter)return t(n,r,o);const a=e(n,e=>e.createIIRFilter(o.feedforward,o.feedback));return Fe(a,o),a})(ct,sn),cn,mt,it),hn=((e,t)=>(class extends L{constructor(n,r){super(n),this._nativeContext=n,d.set(this,n);const o=n.sampleRate;Object.defineProperty(n,"sampleRate",{get:()=>o}),this._destination=new e(this,r),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t=k(this,e);this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}}))(Vt,((e,t,n,r,o)=>(a,i)=>{const s=i.listener,{forwardX:u,forwardY:c,forwardZ:l,positionX:h,positionY:d,positionZ:p,upX:f,upY:m,upZ:v}=void 0===s.forwardX?(()=>{const u=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),c=o(i),l=r(i,256,9,0),h=(t,r)=>{const o=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});return o.connect(u,0,t),o.start(),Object.defineProperty(o.offset,"defaultValue",{get:()=>r}),e({context:a},c,o.offset,34028234663852886e22,-34028234663852886e22)};let d=[0,0,-1,0,1,0],p=[0,0,0];return l.onaudioprocess=({inputBuffer:e})=>{const t=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0],e.getChannelData(3)[0],e.getChannelData(4)[0],e.getChannelData(5)[0]];t.some((e,t)=>e!==d[t])&&(s.setOrientation(...t),d=t);const n=[e.getChannelData(6)[0],e.getChannelData(7)[0],e.getChannelData(8)[0]];n.some((e,t)=>e!==p[t])&&(s.setPosition(...n),p=n)},u.connect(l),{forwardX:h(0,0),forwardY:h(1,0),forwardZ:h(2,-1),positionX:h(6,0),positionY:h(7,0),positionZ:h(8,0),upX:h(3,0),upY:h(4,1),upZ:h(5,0)}})():s;return{get forwardX(){return u},get forwardY(){return c},get forwardZ(){return l},get positionX(){return h},get positionY(){return d},get positionZ(){return p},get upX(){return f},get upY(){return m},get upZ(){return v}}})(Lt,Yt,Ht,an,it)),dn=((e,t,n,r,o,a)=>(i,s)=>{const u=t(i,e=>e.createOscillator());return Fe(u,s),Ve(u,s,"detune"),Ve(u,s,"frequency"),void 0!==s.periodicWave?u.setPeriodicWave(s.periodicWave):Le(u,s,"type"),e(n,()=>n(i))||We(u),e(r,()=>r(i))||a(u,i),e(o,()=>o(i))||je(u),u})(rt,ct,At,It,Tt,Nt),pn=((e,t,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null,u=null;return{set periodicWave(e){i=e},set start(e){s=e},set stop(e){u=e},render(c,l,h){const d=a.get(l);return void 0!==d?Promise.resolve(d):(async(c,l,h)=>{let d=n(c);const p=O(d,l);if(!p){const e={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:null===i?void 0:i,type:d.type};d=t(l,e),null!==s&&d.start(s),null!==u&&d.stop(u)}return a.set(l,d),p?(await e(l,c.detune,d.detune,h),await e(l,c.frequency,d.frequency,h)):(await r(l,c.detune,d.detune,h),await r(l,c.frequency,d.frequency,h)),await o(c,l,d,h),d})(c,l,h)}}})(Dt,dn,Z,Rt,dt),fn=((e,t,n,r,o,a,i)=>(class extends e{constructor(e,n=He){const s=a(e),u={...He,...n},c=r(s,u),l=i(s),h=l?o():null,d=e.sampleRate/2;super(e,!1,c,h),this._detune=t(this,l,c.detune,153600,-153600),this._frequency=t(this,l,c.frequency,d,-d),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==u.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=u.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t=k(this,e);this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){if(this._nativeOscillatorNode.type=e,"custom"===e)throw n();null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(e=0){if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer)this._oscillatorNodeRenderer.start=e;else{S(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),setTimeout(()=>D(this),1e3)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(e=0){this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}}))(wt,Lt,Ne,dn,pn,mt,it),mn=(e=>(t,n)=>{const r=e(t),o=t.createBuffer(1,2,t.sampleRate);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(kt),vn=((e,t,n,r,o,a)=>(i,{curve:s,oversample:u,...c})=>{const l=n(i,e=>e.createWaveShaper()),h=n(i,e=>e.createWaveShaper());Fe(l,c),Fe(h,c);const d=r(i,{...c,gain:1}),p=r(i,{...c,gain:-1}),f=r(i,{...c,gain:1}),m=r(i,{...c,gain:-1});let v=null,g=!1,C=null;const w={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(e){d.channelCount=e,p.channelCount=e,l.channelCount=e,f.channelCount=e,h.channelCount=e,m.channelCount=e},get channelCountMode(){return l.channelCountMode},set channelCountMode(e){d.channelCountMode=e,p.channelCountMode=e,l.channelCountMode=e,f.channelCountMode=e,h.channelCountMode=e,m.channelCountMode=e},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e,p.channelInterpretation=e,l.channelInterpretation=e,f.channelInterpretation=e,h.channelInterpretation=e,m.channelInterpretation=e},get context(){return l.context},get curve(){return C},set curve(n){if(null!==s&&s.length<2)throw t();if(null===n)l.curve=n,h.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),r=new Float32Array(e+2-e%2);t[0]=n[0],r[0]=-n[e-1];const o=Math.ceil((e+1)/2),a=(e+1)/2-1;for(let i=1;i<o;i+=1){const s=i/o*a,u=Math.floor(s),c=Math.ceil(s);t[i]=u===c?n[u]:(1-(s-u))*n[u]+(1-(c-s))*n[c],r[i]=u===c?-n[e-1-u]:-(1-(s-u))*n[e-1-u]-(1-(c-s))*n[e-1-c]}t[o]=e%2==1?n[o-1]:(n[o-2]+n[o-1])/2,l.curve=t,h.curve=r}C=n,g&&(o(C)&&null===v?v=e(i,d):null!==v&&(v(),v=null))},get inputs(){return[d]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(e){l.oversample=e,h.oversample=e},addEventListener:(...e)=>d.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>d.dispatchEvent(e[0]),removeEventListener:(...e)=>d.removeEventListener(e[0],e[1],e[2])};s!==w.curve&&(w.curve=s),u!==w.oversample&&(w.oversample=u);return a(Ye(w,f),()=>{d.connect(l).connect(f),d.connect(p).connect(h).connect(m).connect(f),g=!0,o(C)&&(v=e(i,d))},()=>{d.disconnect(l),l.disconnect(f),d.disconnect(p),p.disconnect(h),h.disconnect(m),m.disconnect(f),g=!1,null!==v&&(v(),v=null)})})(mn,Ne,ct,Bt,tt,qt),gn=((e,t,n,r,o,a,i)=>(s,u)=>{const c=n(s,e=>e.createWaveShaper());try{return c.curve=new Float32Array([1]),r(s,u)}catch(e){}Fe(c,u);const l=u.curve;if(null!==l&&l.length<2)throw t();Le(c,u,"curve"),Le(c,u,"oversample");let h=null,d=!1;i(c,"curve",e=>()=>e.call(c),t=>n=>(t.call(c,n),d&&(o(n)&&null===h?h=e(s,c):o(n)||null===h||(h(),h=null)),n));return a(c,()=>{d=!0,o(c.curve)&&(h=e(s,c))},()=>{d=!1,null!==h&&(h(),h=null)})})(mn,Ne,ct,vn,tt,qt,nt),Cn=((e,t,n,r,o,a,i,s,u,c)=>(l,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:p,distanceModel:f,maxDistance:m,orientationX:v,orientationY:g,orientationZ:C,panningModel:w,positionX:y,positionY:_,positionZ:b,refDistance:M,rolloffFactor:O,...x})=>{const E=n(l,e=>e.createPanner());if(x.channelCount>2)throw s();if("max"===x.channelCountMode)throw s();Fe(E,x);const A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=r(l,{...A,channelInterpretation:"speakers",numberOfInputs:6}),T=o(l,{...x,gain:1}),N=o(l,{...A,gain:1}),S=o(l,{...A,gain:0}),D=o(l,{...A,gain:0}),k=o(l,{...A,gain:0}),R=o(l,{...A,gain:0}),P=o(l,{...A,gain:0}),L=a(l,256,6,0),F=i(l,{...A,curve:new Float32Array([1,1]),oversample:"none"});let B=[1,0,0],V=[0,0,0];L.onaudioprocess=({inputBuffer:e})=>{const t=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0]];t.some((e,t)=>e!==B[t])&&(E.setOrientation(...t),B=t);const n=[e.getChannelData(6)[0],e.getChannelData(7)[0],e.getChannelData(8)[0]];n.some((e,t)=>e!==V[t])&&(E.setPosition(...n),V=n)},Object.defineProperty(S.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(k.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0});const W={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(e){if(e>2)throw s();T.channelCount=e,E.channelCount=e},get channelCountMode(){return E.channelCountMode},set channelCountMode(e){if("max"===e)throw s();T.channelCountMode=e,E.channelCountMode=e},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(e){T.channelInterpretation=e,E.channelInterpretation=e},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(e){E.coneInnerAngle=e},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(e){E.coneOuterAngle=e},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();E.coneOuterGain=e},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(e){E.distanceModel=e},get inputs(){return[T]},get maxDistance(){return E.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;E.maxDistance=e},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return N.gain},get orientationY(){return S.gain},get orientationZ(){return D.gain},get panningModel(){return E.panningModel},set panningModel(e){if(E.panningModel=e,E.panningModel!==e&&"HRTF"===e)throw s()},get positionX(){return k.gain},get positionY(){return R.gain},get positionZ(){return P.gain},get refDistance(){return E.refDistance},set refDistance(e){if(e<0)throw new RangeError;E.refDistance=e},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;E.rolloffFactor=e},addEventListener:(...e)=>T.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>T.dispatchEvent(e[0]),removeEventListener:(...e)=>T.removeEventListener(e[0],e[1],e[2])};h!==W.coneInnerAngle&&(W.coneInnerAngle=h),d!==W.coneOuterAngle&&(W.coneOuterAngle=d),p!==W.coneOuterGain&&(W.coneOuterGain=p),f!==W.distanceModel&&(W.distanceModel=f),m!==W.maxDistance&&(W.maxDistance=m),v!==W.orientationX.value&&(W.orientationX.value=v),g!==W.orientationY.value&&(W.orientationY.value=g),C!==W.orientationZ.value&&(W.orientationZ.value=C),w!==W.panningModel&&(W.panningModel=w),y!==W.positionX.value&&(W.positionX.value=y),_!==W.positionY.value&&(W.positionY.value=_),b!==W.positionZ.value&&(W.positionZ.value=b),M!==W.refDistance&&(W.refDistance=M),O!==W.rolloffFactor&&(W.rolloffFactor=O);return c(Ye(W,E),()=>{T.connect(E),e(T,F,0,0),F.connect(N).connect(I),F.connect(S).connect(I),F.connect(D).connect(I),F.connect(k).connect(I),F.connect(R).connect(I),F.connect(P).connect(I),I.connect(L)},()=>{T.disconnect(E),u(T,F,0,0),F.disconnect(N),N.disconnect(I),F.disconnect(S),S.disconnect(I),F.disconnect(D),D.disconnect(I),F.disconnect(k),k.disconnect(I),F.disconnect(R),R.disconnect(I),F.disconnect(P),P.disconnect(I),I.disconnect(L)})})(j,Ne,ct,Yt,Bt,an,gn,Ge,z,qt),wn=((e,t)=>(n,r)=>{const o=e(n,e=>e.createPanner());return void 0===o.orientationX?t(n,r):(Fe(o,r),Ve(o,r,"orientationX"),Ve(o,r,"orientationY"),Ve(o,r,"orientationZ"),Ve(o,r,"positionX"),Ve(o,r,"positionY"),Ve(o,r,"positionZ"),Le(o,r,"coneInnerAngle"),Le(o,r,"coneOuterAngle"),Le(o,r,"coneOuterGain"),Le(o,r,"distanceModel"),Le(o,r,"maxDistance"),Le(o,r,"panningModel"),Le(o,r,"refDistance"),Le(o,r,"rolloffFactor"),o)})(ct,Cn),yn=((e,t,n,r,o,a)=>(class extends e{constructor(e,i=Qe){const s=o(e),u={...Qe,...i},c=n(s,u),l=a(s);super(e,!1,c,l?r():null),this._nativePannerNode=c,this._orientationX=t(this,l,c.orientationX,34028234663852886e22,-34028234663852886e22),this._orientationY=t(this,l,c.orientationY,34028234663852886e22,-34028234663852886e22),this._orientationZ=t(this,l,c.orientationZ,34028234663852886e22,-34028234663852886e22),this._positionX=t(this,l,c.positionX,34028234663852886e22,-34028234663852886e22),this._positionY=t(this,l,c.positionY,34028234663852886e22,-34028234663852886e22),this._positionZ=t(this,l,c.positionZ,34028234663852886e22,-34028234663852886e22)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}}))(wt,Lt,wn,((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s,u){const c=a.get(s);return void 0!==c?Promise.resolve(c):(async(i,s,u)=>{let c=n(i);const l=O(c,s);if(!l){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,coneInnerAngle:c.coneInnerAngle,coneOuterAngle:c.coneOuterAngle,coneOuterGain:c.coneOuterGain,distanceModel:c.distanceModel,maxDistance:c.maxDistance,orientationX:c.orientationX.value,orientationY:c.orientationY.value,orientationZ:c.orientationZ.value,panningModel:c.panningModel,positionX:c.positionX.value,positionY:c.positionY.value,positionZ:c.positionZ.value,refDistance:c.refDistance,rolloffFactor:c.rolloffFactor};c=t(s,e)}return a.set(s,c),l?(await e(s,i.orientationX,c.orientationX,u),await e(s,i.orientationY,c.orientationY,u),await e(s,i.orientationZ,c.orientationZ,u),await e(s,i.positionX,c.positionX,u),await e(s,i.positionY,c.positionY,u),await e(s,i.positionZ,c.positionZ,u)):(await r(s,i.orientationX,c.orientationX,u),await r(s,i.orientationY,c.orientationY,u),await r(s,i.orientationZ,c.orientationZ,u),await r(s,i.positionX,c.positionX,u),await r(s,i.positionY,c.positionY,u),await r(s,i.positionZ,c.positionZ,u)),W(c)?await o(i,s,c.inputs[0],u):await o(i,s,c,u),c})(i,s,u)}}})(Dt,wn,Z,Rt,dt),mt,it),_n=((e,t,n)=>(class r{constructor(r,o){const a=t(r),i={...$e,...o},s=e(a,i);return n.add(s),s}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===r.prototype||n.has(e)}}))((e=>(t,{disableNormalization:n,imag:r,real:o})=>{const a=e(t),i=new Float32Array(r),s=new Float32Array(o);return null!==a?a.createPeriodicWave(s,i,{disableNormalization:n}):t.createPeriodicWave(s,i,{disableNormalization:n})})(ut),mt,new WeakSet),bn=((e,t,n,r,o,a)=>{const i=new Float32Array([1,1]),s=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},l=(e,a,l,h,d)=>{if(1===a)return((e,t,o,a)=>{const l=new Float32Array(16385),h=new Float32Array(16385);for(let e=0;e<16385;e+=1){const t=e/16384*s;l[e]=Math.cos(t),h[e]=Math.sin(t)}const d=n(e,{...u,gain:0}),p=r(e,{...c,curve:l}),f=r(e,{...c,curve:i}),m=n(e,{...u,gain:0}),v=r(e,{...c,curve:h});return{connectGraph(){t.connect(d),t.connect(f.inputs[0]),t.connect(m),f.connect(o),o.connect(p.inputs[0]),o.connect(v.inputs[0]),p.connect(d.gain),v.connect(m.gain),d.connect(a,0,0),m.connect(a,0,1)},disconnectGraph(){t.disconnect(d),t.disconnect(f.inputs[0]),t.disconnect(m),f.disconnect(o),o.disconnect(p.inputs[0]),o.disconnect(v.inputs[0]),p.disconnect(d.gain),v.disconnect(m.gain),d.disconnect(a,0,0),m.disconnect(a,0,1)}}})(e,l,h,d);if(2===a)return((e,o,a,l)=>{const h=new Float32Array(16385),d=new Float32Array(16385),p=new Float32Array(16385),f=new Float32Array(16385),m=Math.floor(8192.5);for(let e=0;e<16385;e+=1)if(e>m){const t=(e-m)/(16384-m)*s;h[e]=Math.cos(t),d[e]=Math.sin(t),p[e]=0,f[e]=1}else{const t=e/(16384-m)*s;h[e]=1,d[e]=0,p[e]=Math.cos(t),f[e]=Math.sin(t)}const v=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),g=n(e,{...u,gain:0}),C=r(e,{...c,curve:h}),w=n(e,{...u,gain:0}),y=r(e,{...c,curve:d}),_=r(e,{...c,curve:i}),b=n(e,{...u,gain:0}),M=r(e,{...c,curve:p}),O=n(e,{...u,gain:0}),x=r(e,{...c,curve:f});return{connectGraph(){o.connect(v),o.connect(_.inputs[0]),v.connect(g,1),v.connect(w,1),v.connect(b,1),v.connect(O,1),_.connect(a),a.connect(C.inputs[0]),a.connect(y.inputs[0]),a.connect(M.inputs[0]),a.connect(x.inputs[0]),C.connect(g.gain),y.connect(w.gain),M.connect(b.gain),x.connect(O.gain),g.connect(l,0,0),b.connect(l,0,0),w.connect(l,0,1),O.connect(l,0,1)},disconnectGraph(){o.disconnect(v),o.disconnect(_.inputs[0]),v.disconnect(g,1),v.disconnect(w,1),v.disconnect(b,1),v.disconnect(O,1),_.disconnect(a),a.disconnect(C.inputs[0]),a.disconnect(y.inputs[0]),a.disconnect(M.inputs[0]),a.disconnect(x.inputs[0]),C.disconnect(g.gain),y.disconnect(w.gain),M.disconnect(b.gain),x.disconnect(O.gain),g.disconnect(l,0,0),b.disconnect(l,0,0),w.disconnect(l,0,1),O.disconnect(l,0,1)}}})(e,l,h,d);throw o()};return(t,{channelCount:r,channelCountMode:i,pan:s,...u})=>{if("max"===i)throw o();const c=e(t,{...u,channelCount:1,channelCountMode:i,numberOfInputs:2}),h=n(t,{...u,channelCount:r,channelCountMode:i,gain:1}),d=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:s});let{connectGraph:p,disconnectGraph:f}=l(t,r,h,d,c);Object.defineProperty(d.gain,"defaultValue",{get:()=>0});const m={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(e){h.channelCount!==e&&(v&&f(),({connectGraph:p,disconnectGraph:f}=l(t,e,h,d,c)),v&&p()),h.channelCount=e},get channelCountMode(){return h.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw o();h.channelCountMode=e},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(e){h.channelInterpretation=e},get context(){return h.context},get inputs(){return[h]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get pan(){return d.gain},addEventListener:(...e)=>h.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>h.dispatchEvent(e[0]),removeEventListener:(...e)=>h.removeEventListener(e[0],e[1],e[2])};let v=!1;return a(Ye(m,c),()=>{p(),v=!0},()=>{f(),v=!1})}})(Yt,Zt,Bt,gn,Ge,qt),Mn=((e,t,n)=>(r,o)=>e(r,e=>{const a=o.channelCountMode;if("clamped-max"===a)throw n();if(void 0===r.createStereoPanner)return t(r,o);const i=e.createStereoPanner();return Fe(i,o),Ve(i,o,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>a,set:e=>{if(e!==a)throw n()}}),i}))(ct,bn,Ge),On=((e,t,n,r,o,a)=>(class extends e{constructor(e,i=Je){const s=o(e),u={...Je,...i},c=n(s,u),l=a(s);super(e,!1,c,l?r():null),this._pan=t(this,l,c.pan,1,-1)}get pan(){return this._pan}}))(wt,Lt,Mn,((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s,u){const c=a.get(s);return void 0!==c?Promise.resolve(c):(async(i,s,u)=>{let c=n(i);const l=O(c,s);if(!l){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=t(s,e)}return a.set(s,c),l?await e(s,i.pan,c.pan,u):await r(s,i.pan,c.pan,u),W(c)?await o(i,s,c.inputs[0],u):await o(i,s,c,u),c})(i,s,u)}}})(Dt,Mn,Z,Rt,dt),mt,it),xn=((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a,i){const s=r.get(a);return void 0!==s?Promise.resolve(s):(async(o,a,i)=>{let s=t(o);if(!O(s,a)){const t={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,curve:s.curve,oversample:s.oversample};s=e(a,t)}return r.set(a,s),W(s)?await n(o,a,s.inputs[0],i):await n(o,a,s,i),s})(o,a,i)}}})(gn,Z,dt),En=((e,t,n,r,o,a)=>(class extends e{constructor(e,t=et){const i=o(e),s={...et,...t},u=n(i,s);super(e,!0,u,a(i)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}}))(wt,Ne,gn,xn,mt,it),An=(e=>null!==e&&e.isSecureContext)(ot),In=(e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return r()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(ot),Tn=An?((e,t,n,r,o,a,i,s,u)=>(c,l,h={credentials:"omit"})=>{const d=i(c),p=new URL(l,location.href).toString();if(void 0!==d.audioWorklet)return o(l).then(e=>{const[t,n]=y(e,p),r=new Blob([`${t};(registerProcessor=>{${n}\n})((n,p)=>registerProcessor(n,class extends p{constructor(o){const{hasNoOutput,...q}=o.parameterData;if(hasNoOutput===1){super({...o,numberOfOutputs:0,outputChannelCount:[],parameterData:q});this._h=true}else{super(o);this._h=false}}process(i,o,p){return super.process(i,(this._h)?[]:o,p)}}))`],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r),i=a(d);return(null!==i?i:d).audioWorklet.addModule(o,h).then(()=>URL.revokeObjectURL(o)).catch(e=>{throw URL.revokeObjectURL(o),e})});const f=u.get(c);if(void 0!==f&&f.has(l))return Promise.resolve();const v=s.get(c);if(void 0!==v){const e=v.get(l);if(void 0!==e)return e}const g=o(l).then(e=>{const[t,r]=y(e,p);return n(`${t};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${r}\n})})(window,'_AWGS')`)}).then(()=>{const e=window._AWGS.pop();if(void 0===e)throw new SyntaxError;r(d.currentTime,d.sampleRate,()=>e(class{},void 0,(e,n)=>{if(""===e.trim())throw t();const r=m.get(d);if(void 0!==r){if(r.has(e))throw t();b(n),_(n.parameterDescriptors),r.set(e,n)}else b(n),_(n.parameterDescriptors),m.set(d,new Map([[e,n]]))},d.sampleRate,void 0,void 0))}).catch(t=>{if("SyntaxError"===t.name)throw e();throw t});return void 0===v?s.set(c,new Map([[l,g]])):v.set(l,g),g.then(()=>{const e=u.get(c);void 0===e?u.set(c,new Set([l])):e.add(l)}).catch(()=>{}).then(()=>{const e=s.get(c);void 0!==e&&e.delete(l)}),g})(a,Ge,(e=>t=>new Promise((n,r)=>{if(null===e)return void r(new SyntaxError);const o=e.document.head;if(null===o)r(new SyntaxError);else{const a=e.document.createElement("script"),i=new Blob([t],{type:"application/javascript"}),s=URL.createObjectURL(i),u=e.onerror,c=()=>{e.onerror=u,URL.revokeObjectURL(s)};e.onerror=(e,t,n,o,a)=>t===s||t===location.href&&1===n&&1===o?(c(),r(a),!1):null!==u?u(e,t,n,o,a):void 0,a.onerror=()=>{c(),r(new SyntaxError)},a.onload=()=>{c(),n()},a.src=s,a.type="module",o.appendChild(a)}}))(ot),In,(e=>async t=>{try{const e=await fetch(t);if(e.ok)return e.text()}catch(e){}throw e()})(a),ut,mt,new WeakMap,new WeakMap):void 0,Nn=(e=>t=>null!==e&&t instanceof e)(st),Sn=((e,t)=>n=>e(n)||t(n))(Nn,it),Dn=((e,t,n,r,o,a,i,s,u,c,l,h,d,p,f,m,v,g,C,w)=>(class extends f{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new o(this)}createBuffer(e,t,r){return new n({length:t,numberOfChannels:e,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(e=6){return new a(this,{numberOfInputs:e})}createChannelSplitter(e=6){return new i(this,{numberOfOutputs:e})}createConstantSource(){return new s(this)}createConvolver(){return new u(this)}createDelay(e=1){return new l(this,{maxDelayTime:e})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(e,t){return new p(this,{feedback:t,feedforward:e})}createOscillator(){return new m(this)}createPanner(){return new v(this)}createPeriodicWave(e,t,n={disableNormalization:!1}){return new g(this,{...n,imag:t,real:e})}createStereoPanner(){return new C(this)}createWaveShaper(){return new w(this)}decodeAudioData(e,t,n){return c(this._nativeContext,e).then(e=>("function"==typeof t&&t(e),e)).catch(e=>{throw"function"==typeof n&&n(e),e})}}))(Tn,yt,Et,Ft,jt,Xt,Gt,Qt,Kt,((e,t,n,r,o,a,i,s,u,c,l,h,d)=>(p,f)=>{const m=i(p)?p:a(p);if(o.has(f)){const e=n();return Promise.reject(e)}try{o.add(f)}catch(e){}if(t(l,()=>l(m))){return("closed"===m.state&&null!==u&&s(m)?new u(1,1,m.sampleRate):m).decodeAudioData(f).catch(e=>{if(e instanceof DOMException&&"NotSupportedError"===e.name)throw new TypeError;throw e}).then(n=>(t(c,()=>c(n))||d(n),e.add(n),n))}return new Promise((t,n)=>{const o=()=>{try{(e=>{const{port1:t}=new MessageChannel;t.postMessage(e,[e])})(f)}catch(e){}},a=e=>{n(e),o()};try{m.decodeAudioData(f,n=>{"function"!=typeof n.copyFromChannel&&(h(n),A(n)),e.add(n),o(),t(n)},e=>{a(null===e?r():e)})}catch(e){a(e)}})})(_t,rt,()=>{try{return new DOMException("","DataCloneError")}catch(e){return e.code=25,e.name="DataCloneError",e}},()=>{try{return new DOMException("","EncodingError")}catch(e){return e.code=0,e.name="EncodingError",e}},new WeakSet,mt,Sn,it,at,x,Re,Ot,xt),tn,rn,on,ln,hn,fn,yn,_n,On,En),kn=((e,t,n,r,o)=>(class extends e{constructor(e,a){const i=r(e);if(o(i))throw n();const s=t(i,a);super(e,!0,s,null),this._mediaElement=a.mediaElement,this._nativeMediaElementAudioSourceNode=s}get mediaElement(){return void 0===this._nativeMediaElementAudioSourceNode.mediaElement?this._mediaElement:this._nativeMediaElementAudioSourceNode.mediaElement}}))(wt,(e=>(t,n)=>e(t,e=>e.createMediaElementSource(n.mediaElement)))(ct),Ge,mt,it),Rn=((e,t,n,r,o)=>(class extends e{constructor(e,a){const i=r(e);if(o(i))throw n();const s=t(i,a);super(e,!0,s,null),this._nativeMediaStreamAudioSourceNode=s}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}}))(wt,(e=>(t,{mediaStream:n})=>{const r=n.getAudioTracks(),o=e(t,e=>{const t=r.sort((e,t)=>e.id<t.id?-1:e.id>t.id?1:0).slice(0,1);return e.createMediaStreamSource(new MediaStream(t))});return Object.defineProperty(o,"mediaStream",{value:n}),o})(ct),Ge,mt,it),Pn=((e,t,n,r,o)=>(class extends e{constructor(e,a){const i=r(e);if(o(i))throw n();super(e,!0,t(i,a),null)}}))(wt,((e,t)=>(n,{mediaStreamTrack:r})=>"function"==typeof n.createMediaStreamTrackSource?t(n,e=>e.createMediaStreamTrackSource(r)):t(n,t=>{const n=new MediaStream([r]),o=t.createMediaStreamSource(n);if("audio"!==r.kind)throw e();return o}))(Ne,ct),Ge,mt,it),Ln=(((e,t,n,r,o,a,i,s)=>(class extends e{constructor(e={}){if(null===s)throw new Error("Missing the native AudioContext constructor.");const t=new s(e);if(null===t)throw r();if(!P(e.latencyHint))throw new TypeError(`The provided value '${e.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==e.sampleRate&&t.sampleRate!==e.sampleRate)throw n();super(t,2);const{latencyHint:o}=e,{sampleRate:a}=t;if(this._baseLatency="number"==typeof t.baseLatency?t.baseLatency:"balanced"===o?512/a:"interactive"===o||void 0===o?256/a:"playback"===o?1024/a:128*Math.max(2,Math.min(128,Math.round(o*a/128)))/a,this._nativeAudioContext=t,this._state=null,"running"===t.state){this._state="suspended";const e=()=>{"suspended"===this._state&&(this._state=null),t.removeEventListener("statechange",e)};t.addEventListener("statechange",e)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw t()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close())}createMediaElementSource(e){return new o(this,{mediaElement:e})}createMediaStreamSource(e){return new a(this,{mediaStream:e})}createMediaStreamTrackSource(e){return new i(this,{mediaStreamTrack:e})}resume(){return"suspended"===this._state?new Promise((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)}):this._nativeAudioContext.resume().catch(e=>{if(void 0===e||15===e.code)throw t();throw e})}suspend(){return this._nativeAudioContext.suspend().catch(e=>{if(void 0===e)throw t();throw e})}}))(Dn,Ne,Ge,Ke,kn,Rn,Pn,st),(e=>(t,n,r=0,o=0)=>{const a=t[r];if(void 0===a)throw e();return ne(n)?a.connect(n,0,o):a.connect(n,0)})(E)),Fn=(e=>(t,n,r,o=0)=>void 0===n?t.forEach(e=>e.disconnect()):"number"==typeof n?Ae(e,t,n).disconnect():ne(n)?void 0===r?t.forEach(e=>e.disconnect(n)):void 0===o?Ae(e,t,r).disconnect(n,0):Ae(e,t,r).disconnect(n,0,o):void 0===r?t.forEach(e=>e.disconnect(n)):Ae(e,t,r).disconnect(n,0))(E),Bn=((e,t,n,r,o,a,i,s,u,c,l,h,d)=>(p,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw c();if(void 0!==g.outputChannelCount){if(g.outputChannelCount.some(e=>e<1))throw c();if(g.outputChannelCount.length!==g.numberOfOutputs)throw n()}if("explicit"!==g.channelCountMode)throw c();const C=g.channelCount*g.numberOfInputs,w=g.outputChannelCount.reduce((e,t)=>e+t,0),y=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(C+y>6||w>6)throw c();const _=new MessageChannel,b=[],M=[];for(let e=0;e<g.numberOfInputs;e+=1)b.push(s(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),M.push(a(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const O=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:r}of m.parameterDescriptors){const o=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[r]?g.parameterData[r]:void 0===e?0:e});Object.defineProperties(o.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?34028234663852886e22:t},minValue:{get:()=>void 0===n?-34028234663852886e22:n}}),O.push(o)}const x=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,C+y)}),E=qe(f,p.sampleRate),A=u(p,E,C+y,Math.max(1,w)),I=a(p,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),T=[];for(let e=0;e<g.numberOfOutputs;e+=1)T.push(o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g.outputChannelCount[e]}));for(let e=0;e<g.numberOfInputs;e+=1){b[e].connect(M[e]);for(let t=0;t<g.channelCount;t+=1)M[e].connect(x,t,e*g.channelCount+t)}const N=new fe(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(({name:e},t)=>{const n=O[t];return n.connect(x,0,C+t),n.start(0),[e,n.offset]}));x.connect(A);let S=g.channelInterpretation,D=null;const k=0===g.numberOfOutputs?[A]:T,R={get bufferSize(){return E},get channelCount(){return g.channelCount},set channelCount(e){throw r()},get channelCountMode(){return g.channelCountMode},set channelCountMode(e){throw r()},get channelInterpretation(){return S},set channelInterpretation(e){for(const t of b)t.channelInterpretation=e;S=e},get context(){return A.context},get inputs(){return b},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return D},set onprocessorerror(e){"function"==typeof D&&R.removeEventListener("processorerror",D),D="function"==typeof e?e:null,"function"==typeof D&&R.addEventListener("processorerror",D)},get parameters(){return N},get port(){return _.port2},addEventListener:(...e)=>A.addEventListener(e[0],e[1],e[2]),connect:t.bind(null,k),disconnect:l.bind(null,k),dispatchEvent:(...e)=>A.dispatchEvent(e[0]),removeEventListener:(...e)=>A.removeEventListener(e[0],e[1],e[2])},P=new Map;_.port1.addEventListener=(e=>(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=P.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{h(p.currentTime,p.sampleRate,()=>e(t))},P.set(e,t[1]))}}return e.call(_.port1,t[0],t[1],t[2])})(_.port1.addEventListener),_.port1.removeEventListener=(e=>(...t)=>{if("message"===t[0]){const e=P.get(t[1]);void 0!==e&&(P.delete(t[1]),t[1]=e)}return e.call(_.port1,t[0],t[1],t[2])})(_.port1.removeEventListener);let L=null;Object.defineProperty(_.port1,"onmessage",{get:()=>L,set:e=>{"function"==typeof L&&_.port1.removeEventListener("message",L),L="function"==typeof e?e:null,"function"==typeof L&&(_.port1.addEventListener("message",L),_.port1.start())}}),m.prototype.port=_.port1;let F=null;((e,t,n,r)=>{let o=v.get(e);void 0===o&&(o=new WeakMap,v.set(e,o));const a=ze(n,r);return o.set(t,a),a})(p,R,m,g).then(e=>F=e);const B=we(g.numberOfInputs,g.channelCount),V=we(g.numberOfOutputs,g.outputChannelCount),W=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce((e,{name:t})=>({...e,[t]:new Float32Array(128)}),{});let j=!0;const q=()=>{g.numberOfOutputs>0&&A.disconnect(I);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=T[e];for(let r=0;r<g.outputChannelCount[e];r+=1)I.disconnect(n,t+r,r);t+=g.outputChannelCount[e]}};A.onaudioprocess=({inputBuffer:t,outputBuffer:n})=>{if(null!==F)for(let r=0;r<E;r+=128){for(let e=0;e<g.numberOfInputs;e+=1)for(let n=0;n<g.channelCount;n+=1)ge(t,B[e],n,n,r);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(({name:e},n)=>{ge(t,W,e,C+n,r)});for(let e=0;e<g.numberOfInputs;e+=1)for(let t=0;t<g.outputChannelCount[e];t+=1)0===V[e][t].byteLength&&(V[e][t]=new Float32Array(128));try{const t=B.map((t,n)=>{const r=e.get(R);return void 0===r||void 0===r.get(n)?[new Float32Array(0)]:t}),o=h(p.currentTime+r/p.sampleRate,p.sampleRate,()=>F.process(t,V,W));j=o;for(let e=0,t=0;e<g.numberOfOutputs;e+=1){for(let o=0;o<g.outputChannelCount[e];o+=1)Ce(n,V[e],o,t+o,r);t+=g.outputChannelCount[e]}}catch(e){j=!1,R.dispatchEvent(new ErrorEvent("processorerror",{error:e}))}if(!j){for(let e=0;e<g.numberOfInputs;e+=1){b[e].disconnect(M[e]);for(let t=0;t<g.channelCount;t+=1)M[r].disconnect(x,t,e*g.channelCount+t)}if(void 0!==m.parameterDescriptors){const e=m.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=O[t];e.disconnect(x,0,C+t),e.stop()}}x.disconnect(A),A.onaudioprocess=null,z&&q();break}}};let z=!1;return d(R,()=>{if(j){g.numberOfOutputs>0&&A.connect(I);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=T[e];for(let r=0;r<g.outputChannelCount[e];r+=1)I.connect(n,t+r,r);t+=g.outputChannelCount[e]}}z=!0},()=>{j&&q(),z=!1})})(ft,Ln,E,Ne,Yt,Zt,Ht,Bt,an,Ge,Fn,In,qt),Vn=((e,t,n,r,o)=>(a,i,s,u,c,l)=>{if(null!==s)try{const n=t(a,e=>o(e)&&0!==l.numberOfInputs&&0===l.numberOfOutputs?new s(e,u,{...l,numberOfOutputs:1,outputChannelCount:[1],parameterData:{...l.parameterData,hasNoOutput:1}}):new s(e,u,l)),r=new Map;let i=null;return Object.defineProperties(n,{channelCount:{get:()=>l.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>i,set:e=>{"function"==typeof i&&n.removeEventListener("processorerror",i),i="function"==typeof e?e:null,"function"==typeof i&&n.addEventListener("processorerror",i)}}}),n.addEventListener=(e=>(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=r.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{e(new ErrorEvent(t[0],{...n,error:new Error}))},r.set(e,t[1]))}}return e.call(n,t[0],t[1],t[2])})(n.addEventListener),n.removeEventListener=(e=>(...t)=>{if("processorerror"===t[0]){const e=r.get(t[1]);void 0!==e&&(r.delete(t[1]),t[1]=e)}return e.call(n,t[0],t[1],t[2])})(n.removeEventListener),n}catch(e){if(11===e.code)throw r();throw e}if(void 0===c)throw r();return(e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}})(l),n(a,i,c,l)})(Ne,ct,Bn,Ge,it),Wn=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(ot),jn=((e,t,n,r,o,a,i,s,u,c,l,h,d,p,f)=>(m,v,g)=>{const C=new WeakMap;let w=null;return{render(y,_,b){const M=C.get(_);return void 0!==M?Promise.resolve(M):(async(y,_,b)=>{let M=c(y),x=null;const E=O(M,_);if(null===l){const e=v.outputChannelCount.reduce((e,t)=>e+t,0),n=o(_,{channelCount:Math.max(1,e),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,e)}),a=[];for(let e=0;e<y.numberOfOutputs;e+=1)a.push(r(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v.outputChannelCount[e]}));const u=0===v.numberOfOutputs?[n]:a,c=i(_,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});c.connect=t.bind(null,u),c.disconnect=s.bind(null,u),x=[n,a,c]}else E||(M=new l(_,m));if(C.set(_,null===x?M:x[2]),null!==x){if(null===w){if(void 0===g)throw new Error("Missing the processor constructor.");if(null===h)throw new Error("Missing the native OfflineAudioContext constructor.");const e=y.channelCount*y.numberOfInputs,t=void 0===g.parameterDescriptors?0:g.parameterDescriptors.length,n=e+t,s=async()=>{const s=new h(n,128*Math.ceil(y.context.length/128),_.sampleRate),u=[],c=[];for(let e=0;e<v.numberOfInputs;e+=1)u.push(i(s,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),c.push(o(s,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const l=await Promise.all(Array.from(y.parameters.values()).map(async e=>{const t=a(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e.value});return await d(s,e,t.offset,b),t})),m=r(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,e+t)});for(let e=0;e<v.numberOfInputs;e+=1){u[e].connect(c[e]);for(let t=0;t<v.channelCount;t+=1)c[e].connect(m,t,e*v.channelCount+t)}for(const[t,n]of l.entries())n.connect(m,0,e+t),n.start(0);return m.connect(s.destination),await Promise.all(u.map(e=>p(y,s,e,b))),f(s)};w=ye(y,0===n?null:await s(),_,v,g,u)}const e=await w,t=n(_),[s,c,l]=x;null!==e&&(t.buffer=e,t.start(0)),t.connect(s);for(let e=0,t=0;e<y.numberOfOutputs;e+=1){const n=c[e];for(let r=0;r<v.outputChannelCount[e];r+=1)s.connect(n,t+r,r);t+=v.outputChannelCount[e]}return l}if(E)for(const[t,n]of y.parameters.entries())await e(_,n,M.parameters.get(t),b);else for(const[e,t]of y.parameters.entries())await d(_,t,M.parameters.get(e),b);return await p(y,_,M,b),M})(y,_,b)}}})(Dt,Ln,kt,Yt,Zt,Ht,Bt,Fn,In,Z,Wn,at,Rt,dt,un),qn=(An&&((e,t,n,r,o,a,i,s)=>(class extends e{constructor(e,u,c=me){const l=a(e),h=i(l),d=(e=>({...e,outputChannelCount:void 0!==e.outputChannelCount?e.outputChannelCount:1===e.numberOfInputs&&1===e.numberOfOutputs?[e.channelCount]:ve(e.numberOfOutputs)}))({...me,...c}),p=m.get(l),f=void 0===p?void 0:p.get(u),v=r(l,h?null:e.baseLatency,s,u,f,d);super(e,!0,v,h?n(u,d,f):null);const g=[];if(v.parameters.forEach((e,n)=>{const r=t(this,h,e);g.push([n,r])}),this._nativeAudioWorkletNode=v,this._numberOfOutputs=0===c.numberOfOutputs?0:this._nativeAudioWorkletNode.numberOfOutputs,this._onprocessorerror=null,this._parameters=new fe(g),"closed"!==e.state){const t=new o(e,{gain:0});try{this.connect(t).connect(e.destination)}catch(e){if("IndexSizeError"!==e.name)throw e}}}get numberOfOutputs(){return this._numberOfOutputs}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(e){const t=k(this,e);this._nativeAudioWorkletNode.onprocessorerror=t;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=n===t?e:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}}))(wt,Lt,jn,Vn,on,mt,it,Wn),((e,t,n,r,o)=>(class extends r{constructor(e={}){if(null===o)throw new Error("Missing the native AudioContext constructor.");const r=new o(e);if(null===r)throw n();if(!P(e.latencyHint))throw new TypeError(`The provided value '${e.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==e.sampleRate&&r.sampleRate!==e.sampleRate)throw t();super(r,2);const{latencyHint:a}=e,{sampleRate:i}=r;if(this._baseLatency="number"==typeof r.baseLatency?r.baseLatency:"balanced"===a?512/i:"interactive"===a||void 0===a?256/i:"playback"===a?1024/i:128*Math.max(2,Math.min(128,Math.round(a*i/128)))/i,this._nativeAudioContext=r,this._state=null,"running"===r.state){this._state="suspended";const e=()=>{"suspended"===this._state&&(this._state=null),r.removeEventListener("statechange",e)};r.addEventListener("statechange",e)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw e()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close())}resume(){return"suspended"===this._state?new Promise((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)}):this._nativeAudioContext.resume().catch(t=>{if(void 0===t||15===t.code)throw e();throw t})}suspend(){return this._nativeAudioContext.suspend().catch(t=>{if(void 0===t)throw e();throw t})}}))(Ne,Ge,Ke,hn,st),((e,t)=>(n,r,o)=>{if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,r,o)}catch(t){if("IndexSizeError"===t.name||"SyntaxError"===t.name)throw e();throw t}})(Ge,at)),zn=((e,t,n,r,o,a,i)=>(s,u)=>n(s).render(s,u,[]).then(()=>r(u)).then(n=>("function"!=typeof n.copyFromChannel?(a(n),A(n)):t(o,()=>o(n))||i(n),e.add(n),n)))(_t,rt,ht,un,x,Ot,xt),Yn=(((e,t,n,r,o)=>(class extends r{constructor(t){const{length:r,numberOfChannels:o,sampleRate:a}={...Pe,...t},i=n(o,r,a);e(Re,()=>Re(i))||i.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(i.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(i,o),this._length=r,this._nativeOfflineAudioContext=i,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(t()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).then(e=>(this._state=null,e)).catch(e=>{throw this._state=null,e}))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout(()=>this._waitForThePromiseToSettle(e))}}))(rt,Ne,qn,hn,zn),((e,t,n,r,o)=>(class extends e{constructor(e,n,o){let a;if("number"==typeof e&&void 0!==n&&void 0!==o)a={length:n,numberOfChannels:e,sampleRate:o};else{if("object"!=typeof e)throw new Error("The given parameters are not valid.");a=e}const{length:i,numberOfChannels:s,sampleRate:u}={...Ue,...a},c=r(s,i,u);t(Re,()=>Re(c))||c.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(c.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(c,s),this._length=i,this._nativeOfflineAudioContext=c,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).then(e=>(this._state=null,e)).catch(e=>{throw this._state=null,e}))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout(()=>this._waitForThePromiseToSettle(e))}}))(Dn,rt,Ne,qn,zn)),Xn=(((e,t)=>n=>{const r=e.get(n);return t(r)||t(n)})(d,Nn),((e,t)=>n=>e.has(n)||t(n))(u,gt),((e,t)=>n=>e.has(n)||t(n))(l,Ct),((e,t)=>n=>{const r=e.get(n);return t(r)||t(n)})(d,it),(e,t,n)=>{const r=new Yn(e.numberOfChannels,n*e.sampleRate,e.sampleRate),o=r.createBiquadFilter(),a=r.createBufferSource();return o.frequency.value=240,o.type="lowpass",a.buffer=e,a.connect(o).connect(r.destination),a.start(0,t,n),r.startRendering().then(e=>{return{channelData:e.getChannelData(0),sampleRate:e.sampleRate}})}),Zn=new Blob(['!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=(e,t,n)=>{const r=e.length,o=[];let s=!1;for(let a=0;a<r;a+=1)e[a]>t?s=!0:s&&(s=!1,o.push(a-1),a+=n/4-1);return s&&o.push(r-1),o},o=(e,t)=>{const n=(e=>{let t=0;const n=e.length;for(let r=0;r<n;r+=1)e[r]>t&&(t=e[r]);return t})(e),o=.3*n;let s=[],a=n-.05*n;if(n>.25)for(;s.length<30&&a>=o;)s=r(e,a,t),a-=.05*n;const l=((e,t)=>{const n=[];return e.forEach(e=>{let r=60/(e.interval/t);for(;r<90;)r*=2;for(;r>180;)r/=2;let o=!1,s=e.peaks.length;n.forEach(t=>{if(t.tempo===r&&(t.score+=e.peaks.length,t.peaks=[...t.peaks,...e.peaks],o=!0),t.tempo>r-.5&&t.tempo<r+.5){const n=2*Math.abs(t.tempo-r);s+=(1-n)*t.peaks.length,t.score+=(1-n)*e.peaks.length}}),o||n.push({peaks:e.peaks,score:s,tempo:r})}),n})((e=>{const t=[];return e.forEach((n,r)=>{const o=Math.min(e.length-r,10);for(let s=1;s<o;s+=1){const o=e[r+s]-n;t.some(e=>e.interval===o&&(e.peaks.push(n),!0))||t.push({interval:o,peaks:[n]})}}),t})(s),t);return l.sort((e,t)=>t.score-e.score),l};addEventListener("message",e=>{let{data:t}=e;try{if("analyze"===t.method){const{id:e,params:{channelData:n,sampleRate:r}}=t,s=((e,t)=>{const n=o(e,t);if(0===n.length)throw new Error("The given channelData does not contain any detectable beats.");return n[0].tempo})(n,r);postMessage({error:null,id:e,result:{tempo:s}})}else{if("guess"!==t.method)throw new Error(\'The given method "\'.concat(t.method,\'" is not supported\'));{const{id:e,params:{channelData:n,sampleRate:r}}=t,{bpm:s,offset:a}=((e,t)=>{const n=o(e,t);if(0===n.length)throw new Error("The given channelData does not contain any detectable beats.");const{peaks:r,tempo:s}=n[0],a=Math.round(s),l=60/a;r.sort((e,t)=>e-t);let c=r[0]/t;for(;c>l;)c-=l;return{bpm:a,offset:c}})(n,r);postMessage({error:null,id:e,result:{bpm:s,offset:a}})}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}})}]);'],{type:"application/javascript; charset=utf-8"}),Gn=URL.createObjectURL(Zn),Un=(e=>{const t=new Worker(e),n=new Set;return{analyze:(e,o=0,a=e.duration-o)=>new Promise(async(i,s)=>{const{channelData:u,sampleRate:c}=await Xn(e,o,a),l=Object(r.addUniqueNumber)(n),h=({data:e})=>{e.id===l&&(n.delete(l),t.removeEventListener("message",h),null===e.error?i(e.result.tempo):s(new Error(e.error.message)))};t.addEventListener("message",h),t.postMessage({id:l,method:"analyze",params:{channelData:u,sampleRate:c}},[u.buffer])}),guess:(e,o=0,a=e.duration-o)=>new Promise(async(i,s)=>{const{channelData:u,sampleRate:c}=await Xn(e,o,a),l=Object(r.addUniqueNumber)(n),h=({data:e})=>{e.id===l&&(n.delete(l),t.removeEventListener("message",h),null===e.error?i(e.result):s(new Error(e.error.message)))};t.addEventListener("message",h),t.postMessage({id:l,method:"guess",params:{channelData:u,sampleRate:c}},[u.buffer])})}})(Gn),Hn=Un.analyze;Un.guess;URL.revokeObjectURL(Gn);const Qn=new(window.AudioContext||window.webkitAudioContext),$n=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(2,1323e3,44100),Jn=document.getElementById("input-form"),Kn=document.getElementById("stop_button"),er=document.getElementById("audio_input"),tr=document.getElementById("play_button"),nr=document.getElementById("load_button"),rr=document.getElementById("animation_video"),or=document.getElementById("canvas"),ar=or.getContext("2d"),ir=new FileReader,sr=["../static/circle_diagonal_2.mp4","../static/square_diagonal_1.mp4","../static/square_diagonal_2.mp4","../static/circle_pulse_1.mp4","../static/square_pulse_1.mp4","../static/circle_form_2.mp4","../static/circle_form.mp4"];let ur=null,cr=null,lr=null,hr=null,dr=null,pr=null;function fr(){const e=er.files[0];ur=Qn.createBufferSource();const t=$n.createBufferSource();cr=Qn.createAnalyser();const n=$n.createBiquadFilter(),r=$n.createBiquadFilter();n.type="lowpass",n.frequency.value=225,n.Q.value=1,r.type="highpass",r.frequency.value=100,r.Q.value=1,ir.onload=()=>{const e=ir.result;Qn.decodeAudioData(e,e=>{ur.buffer=e,ur.connect(cr),cr.connect(Qn.destination),ur.loop=!0,t.buffer=e,t.connect(n),n.connect(r),r.connect($n.destination);const o=ur.buffer.sampleRate;t.start(0),$n.startRendering().then(e=>{const t=function(e){const t=[];return e.forEach((n,r)=>{for(let o=1;r+o<e.length&&o<10;o++){let a={tempo:2646e3/(e[r+o].position-n.position),count:1};for(;a.tempo<90;)a.tempo*=2;for(;a.tempo>180;)a.tempo/=2;a.tempo=Math.round(a.tempo),t.some(e=>e.tempo===a.tempo?e.count++:0)||t.push(a)}}),t}(function(e){let t=e[0].length/22050,n=[];for(let r=0;r<t;r++){let t=0;for(let n=22050*r;n<22050*(r+1);n++){let r=Math.max(Math.abs(e[0][n]),Math.abs(e[1][n]));(!t||r>t.volume)&&(t={position:n,volume:r})}n.push(t)}return n.sort((e,t)=>t.volume-e.volume),n=n.splice(0,.5*n.length),n.sort((e,t)=>e.position-t.position),n}([e.getChannelData(0),e.getChannelData(1)])).sort((e,t)=>t.count-e.count).splice(0,5)[0].tempo;Hn(ur.buffer).then(e=>{pr=Math.round(e),document.getElementById("my_guess").innerHTML="Our tempo guess: "+t,document.getElementById("library_guess").innerHTML="Tempo from library: "+pr,document.getElementById("sample_rate").innerHTML="Sample rate: "+o,nr.innerHTML="",nr.removeAttribute("disabled"),tr.removeAttribute("disabled"),Kn.removeAttribute("disabled")}).catch(e=>{console.log(e)})})},e=>{console.log("Error with decoding audio data"+e.err)})},ir.readAsArrayBuffer(e)}function mr(){if(!rr.src||Math.random()>.3){let e=sr[Math.random()*sr.length|0];rr.src=e}rr.play(0),rr.currentTime=0}function vr(){requestAnimationFrame(vr);cr.getByteFrequencyData(lr),ar.fillStyle="rgb(255, 255, 255)",ar.fillRect(0,0,or.width,or.height);const e=or.width/hr*2.5;let t,n=0;for(let r=0;r<hr;r++){t=lr[r]/2;const o=ar.createLinearGradient(0,or.height,0,or.height/1.5);o.addColorStop(0,"#341677"),o.addColorStop(.5,"#a32f80"),o.addColorStop(1,"#ff6363"),ar.fillStyle=o,ar.fillRect(n,or.height-t/2,e,t),n+=e+1}}Jn.addEventListener("submit",(function(e){e.preventDefault(),nr.setAttribute("disabled","disabled"),nr.innerHTML="...",fr()})),Kn.addEventListener("click",(function(e){e.preventDefault(),clearInterval(dr),rr.pause(),rr.src="",ur.stop(0),tr.removeAttribute("disabled"),ar.clearRect(0,0,or.width,or.height)})),tr.addEventListener("click",(function(e){e.preventDefault(),tr.setAttribute("disabled","disabled");let t=6e4/pr;cr.fftSize=512,hr=cr.frequencyBinCount,lr=new Uint8Array(hr),ar.clearRect(0,0,or.width,or.height),ur.start(0),vr(),dr=setInterval(mr,t)}))}]);